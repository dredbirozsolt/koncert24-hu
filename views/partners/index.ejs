<link rel="stylesheet" href="<%= basePath %>css/pages/partners.css">

<div class="hero hero--centered">
  <div class="container">
    <div class="hero__content">
      <h1 class="hero__title">ü§ù Partnereink</h1>
      <p class="hero__subtitle">B√ºszk√©n dolgozunk egy√ºtt a magyar zeneipar √©s rendezv√©nyszervez√©s legjobb szerepl≈ëivel</p>
    </div>
    
    <!-- Search Box -->
    <div class="page__hero__cta">
      <form method="GET" action="/partners" class="hero-search" id="partnerSearchForm">
        <% if (selectedCategory && selectedCategory !== 'all') { %>
          <input type="hidden" name="category" value="<%= selectedCategory %>">
        <% } %>
        <div class="hero-search__form">
          <input 
            type="text" 
            name="search" 
            class="hero-search__input" 
            id="partnerSearch"
            placeholder="Keres√©s partnerek k√∂z√∂tt..."
            value="<%= searchQuery %>"
            autocomplete="off"
          >
          <button type="button" class="hero-search__clear <%= searchQuery ? '' : 'hidden' %>" id="partnerSearchClear" aria-label="Keres√©s t√∂rl√©se">
            <svg viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
            </svg>
          </button>
          <button type="button" class="hero-search__button" aria-label="Keres√©s">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" />
            </svg>
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<div class="partners-container">
  <!-- No partners message (server-side) -->
  <% if (partners.length === 0) { %>
    <div class="no-partners">
      ‚ÑπÔ∏è <h3>Nincs megjelen√≠thet≈ë partner</h3>
      <p>Jelenleg nincs partner a kiv√°lasztott kateg√≥ri√°ban vagy keres√©si felt√©telnek megfelel≈ëen.</p>
    </div>
  <% } else { %>
    <!-- No results message (client-side search) -->
    <div class="no-partners hidden">
      üîç <h3>Nincs tal√°lat</h3>
      <p>A keres√©si felt√©telnek nem felel meg egyetlen partner sem. Pr√≥b√°lj meg m√°s kifejez√©st keresni!</p>
    </div>
    
    <!-- Partners grid -->
    <div class="partners-grid">
      <% partners.forEach(partner => { %>
        <a href="<%= partner.websiteUrl %>" target="_blank" rel="noopener noreferrer" class="partner-card-link">
          <div class="partner-card">
            <% if (partner.logo) { %>
              <img src="<%= partner.logo %>" 
                   alt="<%= partner.name %> log√≥" 
                   title="<%= partner.name %> - <%= partner.description || 'partner√ºnk' %>" 
                   width="200" 
                   height="100" 
                   class="partner-logo">
            <% } else { %>
              <div class="partner-logo-placeholder">
                ü§ù </div>
            <% } %>
            
            <h3 class="partner-name"><%= partner.name %></h3>
            
            <% if (partner.category) { %>
              <span class="partner-category">
                <%= partner.category.name %>
              </span>
            <% } %>
            
            <% if (partner.description) { %>
              <p class="partner-description"><%= partner.description.substring(0, 150) %><%= partner.description.length > 150 ? '...' : '' %></p>
            <% } %>
            
            <span class="partner-link">
              üîó Weboldal
            </span>
          </div>
        </a>
      <% }); %>
    </div>
  <% } %>
</div>

<!-- Page-specific JavaScript -->
<script src="<%= basePath %>js/partners.js"></script>
