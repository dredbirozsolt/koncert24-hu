<!-- Auth forgot password with Design System -->

<section class="section">
    <div class="max-w-md mx-auto">
        <div class="card">
            <div class="card__header text-center">
                <h1 class="card__title text-2xl">üîë Elfelejtett jelsz√≥</h1>
                <p class="text-sm text-gray-600 mt-2">Add meg az email c√≠med √©s k√ºld√ºnk egy helyre√°ll√≠t√°si linket</p>
            </div>

            <div class="card__body">
                <% if (typeof error !== 'undefined' && error) { %>
                    <div class="alert alert--error mb-6">
                        <div class="alert__icon">‚ùå</div>
                        <div class="alert__content">
                            <p class="alert__message">
                                <% if (error === 'missing') { %>
                                    K√©rj√ºk, add meg az email c√≠med.
                                <% } else if (error === 'notfound') { %>
                                    Nem tal√°lhat√≥ felhaszn√°l√≥ ezzel az email c√≠mmel.
                                <% } else if (error === 'rate_limit') { %>
                                    ‚è±Ô∏è T√∫l sok jelsz√≥ vissza√°ll√≠t√°si k√©r√©s. Maximum 3 pr√≥b√°lkoz√°s enged√©lyezett √≥r√°nk√©nt. K√©rj√ºk, pr√≥b√°ld meg k√©s≈ëbb!
                                <% } else if (error === 'server') { %>
                                    Szerver hiba. K√©rj√ºk, pr√≥b√°ld meg k√©s≈ëbb.
                                <% } else if (error === 'email_failed') { %>
                                    Az email k√ºld√©se sikertelen. K√©rj√ºk, pr√≥b√°ld meg k√©s≈ëbb.
                                <% } else { %>
                                    Hiba t√∂rt√©nt. K√©rj√ºk, pr√≥b√°ld meg √∫jra.
                                <% } %>
                            </p>
                        </div>
                    </div>
                <% } %>

                <% if (typeof success !== 'undefined' && success) { %>
                    <div class="alert alert--success mb-6">
                        <div class="alert__icon">‚úÖ</div>
                        <div class="alert__content">
                            <p class="alert__message">Jelsz√≥ helyre√°ll√≠t√°si email elk√ºldve! Ellen≈ërizd a bej√∂v≈ë leveleket.</p>
                        </div>
                    </div>
                <% } %>

                <div class="alert alert--info mb-6">
                    <div class="alert__icon">üí°</div>
                    <div class="alert__content">
                        <p class="alert__message">Ha megadod az email c√≠med, k√ºld√ºnk egy linket, amellyel √∫j jelsz√≥t √°ll√≠thatsz be. A link 1 √≥r√°n bel√ºl lej√°r.</p>
                    </div>
                </div>

                <form method="POST" action="<%= basePath %>auth/forgot-password">
                    <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                    
                    <div class="form__group">
                        <label for="email" class="form__label">üìß Email c√≠m</label>
                        <input 
                            type="email" 
                            id="email" 
                            name="email" 
                            class="form__input"
                            required
                            autofocus
                            autocomplete="email"
                            placeholder="pelda@email.hu"
                            value="<%= typeof email !== 'undefined' ? email : '' %>"
                        >
                    </div>

                    <button type="submit" class="btn btn--primary w-full">
                        üì§ Helyre√°ll√≠t√°si email k√ºld√©se
                    </button>
                </form>
            </div>

            <div class="card__footer border-t text-center">
                <div class="space-y-2">
                    <p class="text-sm">
                        <a href="<%= basePath %>auth/login" class="text-primary hover:underline">
                            üîô Vissza a bejelentkez√©shez
                        </a>
                    </p>
                    <p class="text-sm text-gray-600">
                        M√©g nincs fi√≥kod? 
                        <a href="<%= basePath %>auth/register" class="text-primary hover:underline font-semibold">
                            Regisztr√°lj itt!
                        </a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>