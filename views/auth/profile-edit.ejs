
<section class="section">
    <div class="max-w-2xl mx-auto">
        <% if (typeof error !== 'undefined' && error) { %>
        <div class="alert alert--error mb-6">
            <div class="alert__icon">âš ï¸</div>
            <div class="alert__content">
                <% if (error === 'validation') { %>
                    KÃ©rjÃ¼k, tÃ¶ltse ki helyesen az Ã¶sszes mezÅ‘t.
                <% } else if (error === 'server') { %>
                    Hiba tÃ¶rtÃ©nt a mentÃ©s sorÃ¡n. KÃ©rjÃ¼k, prÃ³bÃ¡lja Ãºjra kÃ©sÅ‘bb.
                <% } else { %>
                    <%= error %>
                <% } %>
            </div>
        </div>
    <% } %>

    <% if (typeof success !== 'undefined' && success) { %>
        <div class="alert alert--success mb-6">
            <div class="alert__icon">âœ…</div>
            <div class="alert__content">SzemÃ©lyes adatok sikeresen mÃ³dosÃ­tva!</div>
        </div>
    <% } %>

    <!-- Basic Info Card -->
    <div class="card mb-6">
        <div class="card__header">
            <h2 class="card__title">ğŸªª SzemÃ©lyes adatok</h2>
        </div>
        <div class="card__body">
            <form method="POST" action="<%= basePath %>auth/profile/update-basic-info">
                <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                
                <div class="form__group">
                    <label for="name" class="form__label">
                        ğŸ‘¤ Teljes nÃ©v *
                    </label>
                    <input 
                        type="text" 
                        id="name" 
                        name="name" 
                        class="form__input"
                        value="<%= user.name %>"
                        required
                        minlength="2"
                        maxlength="100"
                    />
                    <span class="form__help">Min. 2 karakter, max. 100 karakter</span>
                </div>

                <div class="form__group">
                    <label for="phone" class="form__label">
                        ğŸ“ TelefonszÃ¡m *
                    </label>
                    <input 
                        type="tel" 
                        id="phone" 
                        name="phone" 
                        class="form__input"
                        value="<%= user.phone %>"
                        required
                        minlength="6"
                        maxlength="20"
                        placeholder="+36 30 123 4567"
                    />
                    <span class="form__help">Magyar vagy nemzetkÃ¶zi formÃ¡tum</span>
                </div>

                <div class="form__group">
                    <label for="role" class="form__label">
                        ğŸ‘¤ SzerepkÃ¶r
                    </label>
                    <input 
                        type="text" 
                        id="role" 
                        class="form__input"
                        value="<% if (user.role === 'admin') { %>ğŸ‘‘ AdminisztrÃ¡tor<% } else if (user.role === 'sales') { %>ğŸ’¼ Ã‰rtÃ©kesÃ­tÅ‘<% } else if (user.role === 'performer') { %>ğŸ¤ ElÅ‘adÃ³, manager<% } else if (user.role === 'client') { %>ğŸ‘¤ MegrendelÅ‘, szervezÅ‘<% } else { %><%= user.role %><% } %>"
                        disabled
                    />
                    <span class="form__help">A szerepkÃ¶r nem mÃ³dosÃ­thatÃ³</span>
                </div>

                <div class="flex gap-3 mt-6">
                    <button type="submit" class="btn btn--primary flex-1">
                        ğŸ’¾ MentÃ©s
                    </button>
                    <a href="<%= basePath %>auth/profile" class="btn btn--outline flex-1">
                        âœ–ï¸ MÃ©gse
                    </a>
                </div>
            </form>
        </div>
    </div>

    <!-- Email Change Card -->
    <div class="card mb-6">
        <div class="card__header">
            <h2 class="card__title">âœ‰ï¸ Email cÃ­m mÃ³dosÃ­tÃ¡sa</h2>
        </div>
        <div class="card__body">
            <div class="alert alert--info mb-4">
                <div class="alert__icon">ğŸ”</div>
                <div class="alert__content">
                    <strong class="alert__title">BiztonsÃ¡gi figyelmeztetÃ©s:</strong>
                    <p class="alert__message">Az email cÃ­m mÃ³dosÃ­tÃ¡sa biztonsÃ¡gi okokbÃ³l kÃ¼lÃ¶n folyamatot igÃ©nyel. A jelenlegi jelszavÃ¡t meg kell adnia, Ã©s mindkÃ©t email cÃ­men megerÅ‘sÃ­tÅ‘ linket fog kapni.</p>
                </div>
            </div>

            <div class="form__group">
                <label class="form__label">âœ‰ï¸ Jelenlegi email cÃ­m</label>
                <input 
                    type="email" 
                    class="form__input"
                    value="<%= user.email %>"
                    disabled
                />
            </div>

            <div class="text-center">
                <a href="<%= basePath %>auth/profile/change-email" class="btn btn--primary w-full">
                    âœ‰ï¸ Email cÃ­m mÃ³dosÃ­tÃ¡sa
                </a>
            </div>

            <div class="mt-4 p-4 bg-gray-50 rounded-lg">
                <p class="text-sm text-gray-700"><strong>ğŸ“§ Folyamat:</strong> Az email mÃ³dosÃ­tÃ¡s sorÃ¡n megerÅ‘sÃ­tÅ‘ linket kÃ¼ldÃ¼nk mindkÃ©t email cÃ­mre a biztonsÃ¡g Ã©rdekÃ©ben.</p>
            </div>
        </div>
    </div>

    <!-- Password Change Card -->
    

    <!-- Password Change Card -->
    <div class="card">
        <div class="card__header">
            <h2 class="card__title">ğŸ”’ JelszÃ³ mÃ³dosÃ­tÃ¡sa</h2>
        </div>
        <div class="card__body">
            <div class="alert alert--info mb-4">
                <div class="alert__icon">ğŸ”</div>
                <div class="alert__content">
                    <strong class="alert__title">BiztonsÃ¡gi informÃ¡ciÃ³:</strong>
                    <p class="alert__message">A jelszÃ³ mÃ³dosÃ­tÃ¡sa utÃ¡n az Ã¶sszes aktÃ­v munkamenet (kivÃ©ve a jelenlegi) automatikusan ki lesz jelentkeztetve. Email Ã©rtesÃ­tÃ©st fog kapni a vÃ¡ltozÃ¡srÃ³l.</p>
                </div>
            </div>

            <div class="text-center">
                <a href="<%= basePath %>auth/profile/change-password" class="btn btn--primary w-full">
                    ğŸ”‘ JelszÃ³ mÃ³dosÃ­tÃ¡sa
                </a>
            </div>

            <div class="mt-4 p-4 bg-gray-50 rounded-lg">
                <p class="text-sm text-gray-700"><strong>ğŸ’¡ Tipp:</strong> HasznÃ¡ljon erÅ‘s jelszÃ³t, amely legalÃ¡bb 8 karakterbÅ‘l Ã¡ll, Ã©s tartalmaz kis- Ã©s nagybetÅ±t, valamint szÃ¡mot.</p>
            </div>
        </div>
    </div>
</div>
</section>
