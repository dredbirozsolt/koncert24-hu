<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title || 'Tal√°ld meg √©s foglald le a t√∂k√©letes el≈ëad√≥t - Koncert24.hu' %></title>
    <meta name="description" content="<%= description || '√çrd le az esem√©nyed param√©tereit, √©s 24 √≥r√°n bel√ºl aj√°nlatot kapsz. 1200+ fell√©p√©s √©vente, √°tl√°that√≥ √°rak, jogtiszta szerz≈ëd√©s.' %>">
    
    <!-- Design System CSS -->
    <link rel="stylesheet" href="/css/design-system.css">
    <link rel="stylesheet" href="/css/alternative.css">
    
    <!-- JSON-LD Structured Data: Organization -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Koncert24.hu",
      "url": "https://koncert24.hu",
      "logo": "https://koncert24.hu/images/logo.png",
      "description": "Magyarorsz√°g vezet≈ë online el≈ëad√≥ foglal√°si platformja",
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.9",
        "ratingCount": "580"
      }
    }
    </script>
    
    <!-- JSON-LD Structured Data: BreadcrumbList -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "name": "F≈ëoldal",
        "item": "https://koncert24.hu"
      }]
    }
    </script>
    
    <!-- JSON-LD Structured Data: FAQPage -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [{
        "@type": "Question",
        "name": "Mennyibe ker√ºl egy el≈ëad√≥ foglal√°sa?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Az √°rak el≈ëad√≥nk√©nt √©s rendezv√©ny t√≠pusonk√©nt v√°ltoznak. A platformunkon √°tl√°that√≥ √°raj√°nlatokat kapsz, rejtett k√∂lts√©gek n√©lk√ºl. Az aj√°nlatk√©r√©s ingyenes."
        }
      }, {
        "@type": "Question",
        "name": "Mennyi id≈ë alatt kapok v√°laszt?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Garancia v√°llalunk arra, hogy 24 √≥r√°n bel√ºl aj√°nlatot kapsz az ig√©nyeidnek megfelel≈ë el≈ëad√≥kt√≥l."
        }
      }, {
        "@type": "Question",
        "name": "Lemondhatom a foglal√°st?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Igen, a lemond√°si felt√©telek az egyes szerz≈ëd√©sekben szerepelnek. √Åltal√°ban 30 nappal az esem√©ny el≈ëtt ingyenes a lemond√°s."
        }
      }, {
        "@type": "Question",
        "name": "Milyen garanci√°t v√°llaltok?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Minden foglal√°shoz hivatalos, jogtiszta szerz≈ëd√©s j√°r. Ha az el≈ëad√≥ nem jelenik meg, teljes visszat√©r√≠t√©st garant√°lunk √©s p√≥tel≈ëad√≥t biztos√≠tunk."
        }
      }]
    }
    </script>
</head>
<body>

<!-- ============================================
     HERO SECTION - Above the Fold
     ============================================ -->
<section class="hero-alternative2" role="banner">
    <div class="hero-alternative2__overlay"></div>
    <div class="hero-alternative2__content container">
        <h1 class="hero-alternative2__title">
            Tal√°ld meg √©s foglald le a t√∂k√©letes el≈ëad√≥t a rendezv√©nyedre
        </h1>
        <p class="hero-alternative2__subtitle">
            √çrd le az esem√©nyed param√©tereit, √©s 24 √≥r√°n bel√ºl aj√°nlatot kapsz.
        </p>
        
        <!-- Inline Mini-Wizard Form -->
        <form class="hero-form" id="heroForm" action="/eloadok" method="GET">
            <div class="hero-form__grid">
                <div class="hero-form__field">
                    <label for="heroDate" class="visually-hidden">Rendezv√©ny d√°tuma</label>
                    <input 
                        type="date" 
                        id="heroDate" 
                        name="date"
                        class="hero-form__input"
                        placeholder="D√°tum"
                        aria-label="V√°lassz d√°tumot"
                        required
                    >
                    <span class="hero-form__icon">üìÖ</span>
                </div>
                
                <div class="hero-form__field">
                    <label for="heroCity" class="visually-hidden">Telep√ºl√©s</label>
                    <input 
                        type="text" 
                        id="heroCity" 
                        name="city"
                        class="hero-form__input"
                        placeholder="Telep√ºl√©s"
                        aria-label="Add meg a telep√ºl√©st"
                        autocomplete="off"
                        required
                    >
                    <span class="hero-form__icon">üìç</span>
                    <div class="hero-form__autocomplete" id="cityAutocomplete" role="listbox"></div>
                </div>
                
                <div class="hero-form__field">
                    <label for="heroEventType" class="visually-hidden">Rendezv√©ny t√≠pusa</label>
                    <select 
                        id="heroEventType" 
                        name="type"
                        class="hero-form__input"
                        aria-label="V√°lassz rendezv√©ny t√≠pust"
                        required
                    >
                        <option value="">Rendezv√©ny t√≠pusa</option>
                        <option value="wedding">Esk√ºv≈ë</option>
                        <option value="corporate">C√©ges rendezv√©ny</option>
                        <option value="birthday">Sz√ºlet√©snap</option>
                        <option value="festival">Fesztiv√°l</option>
                        <option value="other">Egy√©b</option>
                    </select>
                    <span class="hero-form__icon">üé™</span>
                </div>
            </div>
            
            <div class="hero-form__actions">
                <button type="submit" class="btn btn--primary btn--large" aria-label="Keres√©s ind√≠t√°sa">
                    üîç Keresek el≈ëad√≥t
                </button>
                <a href="/ajanlo-wizard" class="btn btn--secondary btn--large" aria-label="Aj√°nl√≥ wizard ind√≠t√°sa">
                    ü§ñ Aj√°nljatok nekem
                </a>
            </div>
        </form>
        
        <!-- Trust Strip -->
        <div class="trust-strip">
            <div class="trust-strip__item">
                <span class="trust-strip__icon">‚≠ê</span>
                <span class="trust-strip__text">4.9 √©rt√©kel√©s</span>
            </div>
            <div class="trust-strip__item">
                <span class="trust-strip__icon">üé≠</span>
                <span class="trust-strip__text">1200+ fell√©p√©s/√©v</span>
            </div>
            <div class="trust-strip__item">
                <span class="trust-strip__icon">ü§ù</span>
                <span class="trust-strip__text">600+ partner</span>
            </div>
            <div class="trust-strip__item">
                <span class="trust-strip__icon">üßæ</span>
                <span class="trust-strip__text">Jogtiszta szerz≈ëd√©s</span>
            </div>
        </div>
    </div>
</section>

<!-- ============================================
     SEARCH PATH UX DEMO - Three Versions
     ============================================ -->
<section class="search-path-demo" id="searchPathDemo">
    <div class="container">
        <h2 class="section-title text-center" style="margin-bottom: var(--space-6);">
            üí° √öj keres√©si m√≥d UX protot√≠pusok
        </h2>
        <p class="section-subtitle text-center" style="margin-bottom: var(--space-16);">
            H√°rom k√ºl√∂nb√∂z≈ë megk√∂zel√≠t√©s ugyanarra a funkci√≥ra ‚Äì tesztel√©sre v√°rva
        </p>

        <!-- ============================================
             VERSION 1 - Interakt√≠v √∫tv√°laszt√≥ (Booking.com style)
             ============================================ -->
        <div class="ux-demo-version" id="version1" style="background: linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, var(--bg-surface) 100%); border: 2px solid rgba(59, 130, 246, 0.2); border-radius: var(--radius-2xl); padding: var(--space-10); margin-bottom: var(--space-12);">
            <h3 style="font-size: var(--text-2xl); font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-3); display: flex; align-items: center; gap: var(--space-3);">
                <span style="font-size: var(--text-4xl);">üéØ</span>
                Version 1 ‚Äì Interakt√≠v √∫tv√°laszt√≥
            </h3>
            <p style="font-size: var(--text-base); color: var(--text-secondary); margin-bottom: var(--space-8); max-width: 600px;">
                Booking.com / Spotify st√≠lus√∫ nagy gombok azonnali klikkel√©sre optimaliz√°lva. Vizu√°lis feedback minden interakci√≥hoz.
            </p>

            <div style="text-align: center; margin-bottom: var(--space-6);">
                <p style="font-size: var(--text-xl); font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-6);">
                    Hogyan szeretn√©l el≈ëad√≥t tal√°lni?
                </p>
            </div>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(min(100%, 280px), 1fr)); gap: var(--space-4);">
                <button 
                    class="v1-option-btn" 
                    data-option="search-by-name"
                    aria-label="Tudom, kit keresek"
                    tabindex="0"
                    style="padding: var(--space-6); background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-xl); cursor: pointer; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); text-align: center; font-size: var(--text-lg); font-weight: 600; color: var(--text-primary); display: flex; flex-direction: column; align-items: center; gap: var(--space-3);"
                >
                    <span style="font-size: 3rem;">üîç</span>
                    <span>Tudom, kit keresek</span>
                </button>

                <button 
                    class="v1-option-btn" 
                    data-option="recommend"
                    aria-label="Aj√°nljatok nekem"
                    tabindex="0"
                    style="padding: var(--space-6); background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-xl); cursor: pointer; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); text-align: center; font-size: var(--text-lg); font-weight: 600; color: var(--text-primary); display: flex; flex-direction: column; align-items: center; gap: var(--space-3);"
                >
                    <span style="font-size: 3rem;">ü§ñ</span>
                    <span>Aj√°nljatok nekem</span>
                </button>

                <button 
                    class="v1-option-btn" 
                    data-option="browse"
                    aria-label="B√∂ng√©szek"
                    tabindex="0"
                    style="padding: var(--space-6); background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-xl); cursor: pointer; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); text-align: center; font-size: var(--text-lg); font-weight: 600; color: var(--text-primary); display: flex; flex-direction: column; align-items: center; gap: var(--space-3);"
                >
                    <span style="font-size: 3rem;">üéß</span>
                    <span>B√∂ng√©szek</span>
                </button>

                <button 
                    class="v1-option-btn" 
                    data-option="budget"
                    aria-label="K√∂lts√©gkeret szerint"
                    tabindex="0"
                    style="padding: var(--space-6); background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-xl); cursor: pointer; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); text-align: center; font-size: var(--text-lg); font-weight: 600; color: var(--text-primary); display: flex; flex-direction: column; align-items: center; gap: var(--space-3);"
                >
                    <span style="font-size: 3rem;">üí∞</span>
                    <span>K√∂lts√©gkeret szerint</span>
                </button>

                <button 
                    class="v1-option-btn" 
                    data-option="event-type"
                    aria-label="Rendezv√©ny t√≠pusa szerint"
                    tabindex="0"
                    style="padding: var(--space-6); background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-xl); cursor: pointer; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); text-align: center; font-size: var(--text-lg); font-weight: 600; color: var(--text-primary); display: flex; flex-direction: column; align-items: center; gap: var(--space-3);"
                >
                    <span style="font-size: 3rem;">üé™</span>
                    <span>Rendezv√©ny t√≠pusa szerint</span>
                </button>
            </div>
        </div>

        <!-- ============================================
             VERSION 2 - Chat-szer≈± UX
             ============================================ -->
        <div class="ux-demo-version" id="version2" style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.05) 0%, var(--bg-surface) 100%); border: 2px solid rgba(16, 185, 129, 0.2); border-radius: var(--radius-2xl); padding: var(--space-10); margin-bottom: var(--space-12);">
            <h3 style="font-size: var(--text-2xl); font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-3); display: flex; align-items: center; gap: var(--space-3);">
                <span style="font-size: var(--text-4xl);">üí¨</span>
                Version 2 ‚Äì Chat-szer≈± UX
            </h3>
            <p style="font-size: var(--text-base); color: var(--text-secondary); margin-bottom: var(--space-8); max-width: 600px;">
                Besz√©lget√©s-szer≈± asszisztens, ami term√©szetes m√≥don vezet v√©gig a folyamaton. AI-assistant feeling.
            </p>

            <div class="chat-window" id="chatWindow" style="max-width: 600px; margin: 0 auto; min-height: 300px;">
                <!-- Bot message - initial -->
                <div class="chat-bubble chat-bubble--bot" style="display: flex; gap: var(--space-3); margin-bottom: var(--space-4); animation: fadeInUp 0.5s ease;">
                    <div style="width: 40px; height: 40px; border-radius: 50%; background: var(--color-primary-500); display: flex; align-items: center; justify-content: center; flex-shrink: 0; color: white; font-weight: 700;">
                        ü§ñ
                    </div>
                    <div style="background: var(--bg-surface); border: 1px solid var(--border-base); border-radius: var(--radius-xl); padding: var(--space-4); max-width: 80%;">
                        <p style="font-size: var(--text-base); color: var(--text-primary); margin: 0;">
                            Szia! Seg√≠tsek megtal√°lni az ide√°lis el≈ëad√≥t a rendezv√©nyedre?
                        </p>
                    </div>
                </div>

                <!-- User options -->
                <div class="chat-options" style="display: flex; flex-direction: column; gap: var(--space-3); align-items: flex-end; margin-bottom: var(--space-4);">
                    <button 
                        class="chat-option-btn" 
                        data-response="search"
                        aria-label="Tudom, kit keresek"
                        tabindex="0"
                        style="background: var(--color-primary-500); color: white; border: none; border-radius: var(--radius-xl); padding: var(--space-3) var(--space-5); cursor: pointer; font-size: var(--text-base); font-weight: 600; transition: all 0.2s ease; max-width: 70%;"
                    >
                        Tudom, kit keresek
                    </button>
                    <button 
                        class="chat-option-btn" 
                        data-response="recommend"
                        aria-label="Aj√°nljatok nekem"
                        tabindex="0"
                        style="background: var(--color-primary-500); color: white; border: none; border-radius: var(--radius-xl); padding: var(--space-3) var(--space-5); cursor: pointer; font-size: var(--text-base); font-weight: 600; transition: all 0.2s ease; max-width: 70%;"
                    >
                        Aj√°nljatok nekem
                    </button>
                    <button 
                        class="chat-option-btn" 
                        data-response="browse"
                        aria-label="Csak b√∂ng√©szek"
                        tabindex="0"
                        style="background: var(--color-primary-500); color: white; border: none; border-radius: var(--radius-xl); padding: var(--space-3) var(--space-5); cursor: pointer; font-size: var(--text-base); font-weight: 600; transition: all 0.2s ease; max-width: 70%;"
                    >
                        Csak b√∂ng√©szek
                    </button>
                </div>
            </div>
        </div>

        <!-- ============================================
             VERSION 3 - Smart Slider (Airbnb style)
             ============================================ -->
        <div class="ux-demo-version" id="version3" style="background: linear-gradient(135deg, rgba(245, 158, 11, 0.05) 0%, var(--bg-surface) 100%); border: 2px solid rgba(245, 158, 11, 0.2); border-radius: var(--radius-2xl); padding: var(--space-10);">
            <h3 style="font-size: var(--text-2xl); font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-3); display: flex; align-items: center; gap: var(--space-3);">
                <span style="font-size: var(--text-4xl);">üé®</span>
                Version 3 ‚Äì Smart Slider
            </h3>
            <p style="font-size: var(--text-base); color: var(--text-secondary); margin-bottom: var(--space-8); max-width: 600px;">
                Airbnb-st√≠lus√∫ horizont√°lis slider. Gesztus-vez√©relt, vizu√°lisan gazdag, mobilon is t√∂k√©letes.
            </p>

            <div style="position: relative;">
                <button 
                    class="slider-arrow slider-arrow--prev" 
                    id="sliderPrev"
                    aria-label="El≈ëz≈ë opci√≥"
                    style="position: absolute; left: -20px; top: 50%; transform: translateY(-50%); width: 48px; height: 48px; border-radius: 50%; background: var(--bg-surface); border: 2px solid var(--border-base); display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 10; font-size: var(--text-3xl); color: var(--text-primary); transition: all 0.2s ease;"
                >
                    ‚Äπ
                </button>

                <div class="slider-container" style="overflow-x: auto; scroll-snap-type: x mandatory; display: flex; gap: var(--space-4); padding: var(--space-4) 0; scroll-behavior: smooth; -webkit-overflow-scrolling: touch;">
                    <div class="slider-card" data-card="search" tabindex="0" role="button" aria-label="Tudom, kit keresek" style="min-width: 280px; scroll-snap-align: center; background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-2xl); padding: var(--space-8); cursor: pointer; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); text-align: center; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);">
                        <div style="font-size: 4rem; margin-bottom: var(--space-4);">üîç</div>
                        <h4 style="font-size: var(--text-xl); font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-3);">
                            Tudom, kit keresek
                        </h4>
                        <p style="font-size: var(--text-sm); color: var(--text-secondary); line-height: 1.6;">
                            Add meg az el≈ëad√≥ nev√©t √©s azonnal megtal√°lod
                        </p>
                    </div>

                    <div class="slider-card" data-card="recommend" tabindex="0" role="button" aria-label="Aj√°nljatok nekem" style="min-width: 280px; scroll-snap-align: center; background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-2xl); padding: var(--space-8); cursor: pointer; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); text-align: center; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);">
                        <div style="font-size: 4rem; margin-bottom: var(--space-4);">ü§ñ</div>
                        <h4 style="font-size: var(--text-xl); font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-3);">
                            Aj√°nljatok nekem
                        </h4>
                        <p style="font-size: var(--text-sm); color: var(--text-secondary); line-height: 1.6;">
                            AI-alap√∫ aj√°nl√°s id≈ëpont √©s helysz√≠n szerint
                        </p>
                    </div>

                    <div class="slider-card" data-card="browse" tabindex="0" role="button" aria-label="B√∂ng√©szek" style="min-width: 280px; scroll-snap-align: center; background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-2xl); padding: var(--space-8); cursor: pointer; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); text-align: center; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);">
                        <div style="font-size: 4rem; margin-bottom: var(--space-4);">üéß</div>
                        <h4 style="font-size: var(--text-xl); font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-3);">
                            B√∂ng√©szek
                        </h4>
                        <p style="font-size: var(--text-sm); color: var(--text-secondary); line-height: 1.6;">
                            N√©zd √°t kateg√≥ri√°k szerint az el≈ëad√≥inkat
                        </p>
                    </div>

                    <div class="slider-card" data-card="budget" tabindex="0" role="button" aria-label="K√∂lts√©gkeret" style="min-width: 280px; scroll-snap-align: center; background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-2xl); padding: var(--space-8); cursor: pointer; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); text-align: center; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);">
                        <div style="font-size: 4rem; margin-bottom: var(--space-4);">üí∞</div>
                        <h4 style="font-size: var(--text-xl); font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-3);">
                            K√∂lts√©gkeret szerint
                        </h4>
                        <p style="font-size: var(--text-sm); color: var(--text-secondary); line-height: 1.6;">
                            Sz≈±rj √°r alapj√°n a budzs√©d szerint
                        </p>
                    </div>

                    <div class="slider-card" data-card="event" tabindex="0" role="button" aria-label="Rendezv√©ny t√≠pusa" style="min-width: 280px; scroll-snap-align: center; background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-2xl); padding: var(--space-8); cursor: pointer; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); text-align: center; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);">
                        <div style="font-size: 4rem; margin-bottom: var(--space-4);">üé™</div>
                        <h4 style="font-size: var(--text-xl); font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-3);">
                            Rendezv√©ny t√≠pusa
                        </h4>
                        <p style="font-size: var(--text-sm); color: var(--text-secondary); line-height: 1.6;">
                            V√°lassz a rendezv√©nyt√≠pusok k√∂z√ºl
                        </p>
                    </div>
                </div>

                <button 
                    class="slider-arrow slider-arrow--next" 
                    id="sliderNext"
                    aria-label="K√∂vetkez≈ë opci√≥"
                    style="position: absolute; right: -20px; top: 50%; transform: translateY(-50%); width: 48px; height: 48px; border-radius: 50%; background: var(--bg-surface); border: 2px solid var(--border-base); display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 10; font-size: var(--text-3xl); color: var(--text-primary); transition: all 0.2s ease;"
                >
                    ‚Ä∫
                </button>
            </div>
        </div>

        <style>
            @keyframes fadeInUp {
                from { opacity: 0; transform: translateY(10px); }
                to { opacity: 1; transform: translateY(0); }
            }

            @keyframes pulse {
                0%, 100% { transform: scale(1); }
                50% { transform: scale(1.05); }
            }

            .v1-option-btn:hover {
                transform: translateY(-4px);
                box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
                border-color: var(--color-primary-500);
            }

            .v1-option-btn.selected {
                animation: pulse 0.6s ease;
                border-color: var(--color-primary-500);
                background: rgba(var(--color-primary-500-rgb), 0.1);
            }

            .chat-option-btn:hover {
                transform: translateX(-4px);
                background: var(--color-primary-600);
            }

            .slider-card:hover {
                transform: scale(1.05);
                box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
                border-color: var(--color-primary-500);
            }

            .slider-card.active {
                border-color: var(--color-primary-500);
                transform: scale(1.08);
                box-shadow: 0 16px 32px rgba(0, 0, 0, 0.2);
            }

            .slider-arrow:hover {
                background: var(--color-primary-500);
                color: white;
                transform: translateY(-50%) scale(1.1);
            }

            .slider-container::-webkit-scrollbar {
                height: 8px;
            }

            .slider-container::-webkit-scrollbar-track {
                background: var(--bg-subtle);
                border-radius: var(--radius-full);
            }

            .slider-container::-webkit-scrollbar-thumb {
                background: var(--color-primary-500);
                border-radius: var(--radius-full);
            }

            @media (max-width: 768px) {
                .slider-arrow {
                    display: none;
                }
            }
        </style>

    </div>
</section>

<!-- ============================================
     WIZARD MODAL - Step by Step
     ============================================ -->
<div class="wizard-modal" id="wizardModal" role="dialog" aria-modal="true" aria-labelledby="wizardTitle">
    <div class="wizard-modal__overlay" onclick="closeWizard()"></div>
    <div class="wizard-modal__content">
        <button class="wizard-modal__close" onclick="closeWizard()" aria-label="Bez√°r√°s">√ó</button>
        
        <div class="wizard-progress">
            <div class="wizard-progress__bar">
                <div class="wizard-progress__fill" id="wizardProgress" style="width: 16.67%"></div>
            </div>
            <div class="wizard-progress__text" id="wizardProgressText">1/6 ‚Äì Rendezv√©ny adatai</div>
        </div>
        
        <h2 class="wizard-modal__title" id="wizardTitle">Aj√°nlatk√©r√©s</h2>
        
        <form class="wizard-form" id="wizardForm">
            <!-- Step 1: Date -->
            <div class="wizard-step" data-step="1">
                <label class="wizard-label" for="wizardStepDate">Melyik napon lesz a rendezv√©ny?</label>
                <input 
                    type="date" 
                    id="wizardStepDate" 
                    name="event_date"
                    class="wizard-input"
                    required
                    aria-label="Rendezv√©ny d√°tuma"
                >
            </div>
            
            <!-- Step 2: Time -->
            <div class="wizard-step" data-step="2" style="display: none;">
                <label class="wizard-label" for="wizardStepTime">H√°ny √≥rakor kezd≈ëdik?</label>
                <input 
                    type="time" 
                    id="wizardStepTime" 
                    name="event_time"
                    class="wizard-input"
                    required
                    aria-label="Rendezv√©ny kezd√©si id≈ëpontja"
                >
            </div>
            
            <!-- Step 3: Location -->
            <div class="wizard-step" data-step="3" style="display: none;">
                <label class="wizard-label" for="wizardStepLocation">Hol lesz a rendezv√©ny?</label>
                <input 
                    type="text" 
                    id="wizardStepLocation" 
                    name="event_location"
                    class="wizard-input"
                    placeholder="V√°ros, helysz√≠n"
                    required
                    aria-label="Rendezv√©ny helysz√≠ne"
                >
            </div>
            
            <!-- Step 4: Event Type -->
            <div class="wizard-step" data-step="4" style="display: none;">
                <label class="wizard-label" for="wizardStepEventType">Milyen t√≠pus√∫ esem√©ny?</label>
                <select 
                    id="wizardStepEventType" 
                    name="event_type"
                    class="wizard-input"
                    required
                    aria-label="Rendezv√©ny t√≠pusa"
                >
                    <option value="">V√°lassz...</option>
                    <option value="wedding">Esk√ºv≈ë</option>
                    <option value="corporate">C√©ges rendezv√©ny</option>
                    <option value="birthday">Sz√ºlet√©snap / √âvfordul√≥</option>
                    <option value="festival">Fesztiv√°l</option>
                    <option value="conference">Konferencia</option>
                    <option value="other">Egy√©b</option>
                </select>
            </div>
            
            <!-- Step 5: Guest Count -->
            <div class="wizard-step" data-step="5" style="display: none;">
                <label class="wizard-label" for="wizardStepGuests">H√°ny f≈ë lesz a rendezv√©nyen?</label>
                <input 
                    type="number" 
                    id="wizardStepGuests" 
                    name="guest_count"
                    class="wizard-input"
                    placeholder="Vend√©gsz√°m"
                    min="10"
                    max="10000"
                    required
                    aria-label="Vend√©gek sz√°ma"
                >
            </div>
            
            <!-- Step 6: Contact Info -->
            <div class="wizard-step" data-step="6" style="display: none;">
                <label class="wizard-label" for="wizardStepName">N√©v</label>
                <input 
                    type="text" 
                    id="wizardStepName" 
                    name="contact_name"
                    class="wizard-input"
                    placeholder="Teljes n√©v"
                    required
                    aria-label="Teljes n√©v"
                >
                
                <label class="wizard-label" for="wizardStepEmail">Email c√≠m</label>
                <input 
                    type="email" 
                    id="wizardStepEmail" 
                    name="contact_email"
                    class="wizard-input"
                    placeholder="email@example.com"
                    required
                    aria-label="Email c√≠m"
                >
                
                <label class="wizard-label" for="wizardStepPhone">Telefonsz√°m (opcion√°lis)</label>
                <input 
                    type="tel" 
                    id="wizardStepPhone" 
                    name="contact_phone"
                    class="wizard-input"
                    placeholder="+36 30 123 4567"
                    aria-label="Telefonsz√°m"
                >
            </div>
            
            <!-- Summary (shown after step 6) -->
            <div class="wizard-step wizard-summary" data-step="7" style="display: none;">
                <h3 class="wizard-summary__title">√ñsszefoglal√≥</h3>
                <div class="wizard-summary__content" id="wizardSummary"></div>
            </div>
            
            <div class="wizard-actions">
                <button type="button" class="btn btn--secondary" id="wizardBack" onclick="wizardPrevStep()" style="display: none;">
                    Vissza
                </button>
                <button type="button" class="btn btn--primary" id="wizardNext" onclick="wizardNextStep()">
                    K√∂vetkez≈ë
                </button>
                <button type="submit" class="btn btn--primary" id="wizardSubmit" style="display: none;">
                    Aj√°nlat k√©r√©se
                </button>
            </div>
        </form>
    </div>
</div>

<!-- ============================================
     WHY KONCERT24 - Benefits
     ============================================ -->
<section class="benefits">
    <div class="container">
        <h2 class="section-title text-center">Mi√©rt v√°lassz minket?</h2>
        
        <div class="benefits__grid">
            <div class="benefit-card">
                <div class="benefit-card__icon">‚è±Ô∏è</div>
                <h3 class="benefit-card__title">Gyors aj√°nlat</h3>
                <p class="benefit-card__description">
                    24 √≥r√°n bel√ºl v√°laszolunk az aj√°nlatk√©r√©sedre √©s seg√≠t√ºnk megtal√°lni a t√∂k√©letes el≈ëad√≥t
                </p>
            </div>
            
            <div class="benefit-card">
                <div class="benefit-card__icon">üí∞</div>
                <h3 class="benefit-card__title">√Åtl√°that√≥ √°rak</h3>
                <p class="benefit-card__description">
                    Nincsenek rejtett k√∂lts√©gek, minden √°raj√°nlat r√©szletes √©s egy√©rtelm≈±
                </p>
            </div>
            
            <div class="benefit-card">
                <div class="benefit-card__icon">üßæ</div>
                <h3 class="benefit-card__title">Jogtiszta szerz≈ëd√©s</h3>
                <p class="benefit-card__description">
                    Hivatalos, jogi h√°tt√©rrel rendelkez≈ë szerz≈ëd√©s minden foglal√°shoz
                </p>
            </div>
        </div>
    </div>
</section>

<!-- ============================================
     TESTIMONIALS - Carousel
     ============================================ -->
<section class="testimonials">
    <div class="container">
        <h2 class="section-title text-center">√úgyfeleink mondt√°k</h2>
        
        <div class="testimonials__carousel" id="testimonialsCarousel">
            <button class="testimonials__arrow testimonials__arrow--prev" onclick="testimonialPrev()" aria-label="El≈ëz≈ë v√©lem√©ny">
                ‚Äπ
            </button>
            
            <div class="testimonials__track">
                <div class="testimonial-card testimonial-card--active">
                    <div class="testimonial-card__rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                    <p class="testimonial-card__text">
                        ‚ÄûProfi szervez√©s, gyors v√°lasz, √©s egy fantasztikus zenekar! Az esk√ºv≈ënk felejthetetlen lett."
                    </p>
                    <div class="testimonial-card__author">
                        <div class="testimonial-card__avatar">MK</div>
                        <div>
                            <strong>Kov√°cs M√°ria</strong>
                            <span>Esk√ºv≈ë szervez≈ë</span>
                        </div>
                    </div>
                </div>
                
                <div class="testimonial-card">
                    <div class="testimonial-card__rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                    <p class="testimonial-card__text">
                        ‚ÄûA c√©ges rendezv√©ny√ºnkre t√∂k√©letes el≈ëad√≥t tal√°ltunk. A folyamat egyszer≈± √©s gyors volt."
                    </p>
                    <div class="testimonial-card__author">
                        <div class="testimonial-card__avatar">TP</div>
                        <div>
                            <strong>T√≥th P√©ter</strong>
                            <span>HR vezet≈ë</span>
                        </div>
                    </div>
                </div>
                
                <div class="testimonial-card">
                    <div class="testimonial-card__rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                    <p class="testimonial-card__text">
                        ‚ÄûMegb√≠zhat√≥ partner! A szerz≈ëd√©s r√©szletes, az √°rak tiszt√°k. Mindenkinek aj√°nlom!"
                    </p>
                    <div class="testimonial-card__author">
                        <div class="testimonial-card__avatar">NE</div>
                        <div>
                            <strong>Nagy Eszter</strong>
                            <span>Fesztiv√°lszervez≈ë</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <button class="testimonials__arrow testimonials__arrow--next" onclick="testimonialNext()" aria-label="K√∂vetkez≈ë v√©lem√©ny">
                ‚Ä∫
            </button>
        </div>
        
        <div class="testimonials__dots" id="testimonialDots">
            <button class="testimonials__dot testimonials__dot--active" onclick="testimonialGoTo(0)" aria-label="1. v√©lem√©ny"></button>
            <button class="testimonials__dot" onclick="testimonialGoTo(1)" aria-label="2. v√©lem√©ny"></button>
            <button class="testimonials__dot" onclick="testimonialGoTo(2)" aria-label="3. v√©lem√©ny"></button>
        </div>
    </div>
</section>

<!-- ============================================
     PARTNER LOGOS - Grid
     ============================================ -->
<section class="partners">
    <div class="container">
        <h2 class="section-title text-center">Megb√≠znak benn√ºnk</h2>
        
        <div class="partners__grid">
            <!-- TODO: Replace with actual partner logos -->
            <div class="partner-logo">
                <img src="/images/partners/partner1.png" alt="Partner 1" loading="lazy" class="partner-logo__img">
            </div>
            <div class="partner-logo">
                <img src="/images/partners/partner2.png" alt="Partner 2" loading="lazy" class="partner-logo__img">
            </div>
            <div class="partner-logo">
                <img src="/images/partners/partner3.png" alt="Partner 3" loading="lazy" class="partner-logo__img">
            </div>
            <div class="partner-logo">
                <img src="/images/partners/partner4.png" alt="Partner 4" loading="lazy" class="partner-logo__img">
            </div>
            <div class="partner-logo">
                <img src="/images/partners/partner5.png" alt="Partner 5" loading="lazy" class="partner-logo__img">
            </div>
            <div class="partner-logo">
                <img src="/images/partners/partner6.png" alt="Partner 6" loading="lazy" class="partner-logo__img">
            </div>
        </div>
    </div>
</section>

<!-- ============================================
     FAQ - Accordion
     ============================================ -->
<section class="faq">
    <div class="container">
        <h2 class="section-title text-center">Gyakori k√©rd√©sek</h2>
        
        <div class="faq__container">
            <details class="faq-item">
                <summary class="faq-item__question">
                    Mennyibe ker√ºl egy el≈ëad√≥ foglal√°sa?
                </summary>
                <div class="faq-item__answer">
                    <p>
                        Az √°rak el≈ëad√≥nk√©nt √©s rendezv√©ny t√≠pusonk√©nt v√°ltoznak. A platformunkon √°tl√°that√≥ 
                        √°raj√°nlatokat kapsz, rejtett k√∂lts√©gek n√©lk√ºl. Az aj√°nlatk√©r√©s ingyenes.
                    </p>
                </div>
            </details>
            
            <details class="faq-item">
                <summary class="faq-item__question">
                    Mennyi id≈ë alatt kapok v√°laszt?
                </summary>
                <div class="faq-item__answer">
                    <p>
                        Garancia v√°llalunk arra, hogy 24 √≥r√°n bel√ºl aj√°nlatot kapsz az ig√©nyeidnek 
                        megfelel≈ë el≈ëad√≥kt√≥l. S√ºrg≈ës esetben ak√°r azonnal is tudunk seg√≠teni.
                    </p>
                </div>
            </details>
            
            <details class="faq-item">
                <summary class="faq-item__question">
                    Lemondhatom a foglal√°st?
                </summary>
                <div class="faq-item__answer">
                    <p>
                        Igen, a lemond√°si felt√©telek az egyes szerz≈ëd√©sekben szerepelnek. √Åltal√°ban 30 nappal 
                        az esem√©ny el≈ëtt ingyenes a lemond√°s, ut√°na lemond√°si d√≠j mer√ºlhet fel.
                    </p>
                </div>
            </details>
            
            <details class="faq-item">
                <summary class="faq-item__question">
                    Milyen garanci√°t v√°llaltok?
                </summary>
                <div class="faq-item__answer">
                    <p>
                        Minden foglal√°shoz hivatalos, jogtiszta szerz≈ëd√©s j√°r. Ha az el≈ëad√≥ nem jelenik meg, 
                        teljes visszat√©r√≠t√©st garant√°lunk √©s p√≥tel≈ëad√≥t biztos√≠tunk.
                    </p>
                </div>
            </details>
            
            <details class="faq-item">
                <summary class="faq-item__question">
                    Hogyan tudok fizetni?
                </summary>
                <div class="faq-item__answer">
                    <p>
                        √Åtutal√°ssal, bankk√°rty√°val, vagy a helysz√≠nen k√©szp√©nzben fizethetsz. Minden foglal√°sr√≥l 
                        sz√°ml√°t √°ll√≠tunk ki.
                    </p>
                </div>
            </details>
            
            <details class="faq-item">
                <summary class="faq-item__question">
                    Mi t√∂rt√©nik, ha rossz id≈ëj√°r√°s miatt elmarad a rendezv√©ny?
                </summary>
                <div class="faq-item__answer">
                    <p>
                        Vis maior eset√©n rugalmasan kezel√ºnk minden helyzetet. √öj id≈ëpontot egyeztet√ºnk vagy 
                        teljes visszat√©r√≠t√©st biztos√≠tunk a szerz≈ëd√©s szerint.
                    </p>
                </div>
            </details>
        </div>
    </div>
</section>

<!-- ============================================
     STICKY CTA BAR - Mobile Only
     ============================================ -->
<div class="sticky-cta" id="stickyCta" role="navigation" aria-label="Gyors m≈±veletek">
    <button class="sticky-cta__btn sticky-cta__btn--primary" onclick="openWizard()">
        üîç Aj√°nlatot k√©rek
    </button>
    <a href="/ajanlo-wizard" class="sticky-cta__btn sticky-cta__btn--secondary">
        ü§ñ Aj√°nljatok
    </a>
</div>

<!-- ============================================
     INLINE JAVASCRIPT - Functionality
     ============================================ -->
<script>
// ============================================
// UX DEMO PROTOTYPES - INTERACTIONS
// ============================================

// VERSION 1 - Interactive Router (Booking.com style)
document.querySelectorAll('.v1-option-btn').forEach(button => {
    button.addEventListener('click', function() {
        const option = this.getAttribute('data-option');
        
        // Remove previous selection
        document.querySelectorAll('.v1-option-btn').forEach(btn => {
            btn.classList.remove('selected');
        });
        
        // Add selection to clicked button
        this.classList.add('selected');
        
        // Analytics stub
        console.log('[Version 1 - Router] User selected:', option);
        
        // Show visual feedback
        const emoji = this.querySelector('span:first-child');
        emoji.style.transform = 'scale(1.3)';
        setTimeout(() => {
            emoji.style.transform = 'scale(1)';
        }, 300);
        
        // TODO: Navigate to search results
        // window.location.href = '/search?path=' + option;
    });
    
    // Keyboard support
    button.addEventListener('keydown', function(e) {
        if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            this.click();
        }
    });
});

// VERSION 2 - Chat-based UX
const chatWindow = document.getElementById('chatWindow');
const chatOptions = document.querySelector('.chat-options');

document.querySelectorAll('.chat-option-btn').forEach(button => {
    button.addEventListener('click', function() {
        const response = this.getAttribute('data-response');
        const buttonText = this.textContent.trim();
        
        // Analytics stub
        console.log('[Version 2 - Chat] User replied:', response);
        
        // Hide option buttons
        chatOptions.style.display = 'none';
        
        // Add user message
        const userBubble = document.createElement('div');
        userBubble.className = 'chat-bubble chat-bubble--user';
        userBubble.style.cssText = 'display: flex; justify-content: flex-end; margin-bottom: var(--space-4); animation: fadeInUp 0.5s ease;';
        userBubble.innerHTML = `
            <div style="background: var(--color-primary-500); color: white; border-radius: var(--radius-xl); padding: var(--space-4); max-width: 70%; text-align: right;">
                <p style="font-size: var(--text-base); margin: 0;">${buttonText}</p>
            </div>
        `;
        chatWindow.appendChild(userBubble);
        
        // Simulate bot response with delay
        setTimeout(() => {
            const botBubble = document.createElement('div');
            botBubble.className = 'chat-bubble chat-bubble--bot';
            botBubble.style.cssText = 'display: flex; gap: var(--space-3); margin-bottom: var(--space-4); animation: fadeInUp 0.5s ease;';
            
            let botMessage = '';
            if (response === 'search') {
                botMessage = 'üîç Remek! Add meg az el≈ëad√≥ nev√©t, akit keresel, √©s m√°ris megmutatom az el√©rhet≈ës√©geit.';
            } else if (response === 'recommend') {
                botMessage = '‚ú® Szuper! Mondd meg, milyen rendezv√©nyre, hol √©s mikor van sz√ºks√©ged el≈ëad√≥ra, √©s aj√°nlok neked t√∂k√©letes opci√≥kat!';
            } else if (response === 'browse') {
                botMessage = 'üéß Persze! Itt a kateg√≥ri√°ink: Zenekarok, DJ-k, T√°ncosok, M≈±sorvezet≈ëk. Melyik √©rdekel?';
            }
            
            botBubble.innerHTML = `
                <div style="width: 40px; height: 40px; border-radius: 50%; background: var(--color-primary-500); display: flex; align-items: center; justify-content: center; flex-shrink: 0; color: white; font-weight: 700;">
                    ü§ñ
                </div>
                <div style="background: var(--bg-surface); border: 1px solid var(--border-base); border-radius: var(--radius-xl); padding: var(--space-4); max-width: 80%;">
                    <p style="font-size: var(--text-base); color: var(--text-primary); margin: 0;">${botMessage}</p>
                </div>
            `;
            chatWindow.appendChild(botBubble);
            
            // Scroll to bottom
            chatWindow.scrollTop = chatWindow.scrollHeight;
            
        }, 1500);
    });
    
    // Keyboard support
    button.addEventListener('keydown', function(e) {
        if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            this.click();
        }
    });
});

// VERSION 3 - Smart Slider (Airbnb style)
const sliderContainer = document.querySelector('.slider-container');
const sliderCards = document.querySelectorAll('.slider-card');
const sliderPrev = document.getElementById('sliderPrev');
const sliderNext = document.getElementById('sliderNext');

// Card click handlers
sliderCards.forEach(card => {
    card.addEventListener('click', function() {
        const cardType = this.getAttribute('data-card');
        
        // Remove previous active state
        sliderCards.forEach(c => c.classList.remove('active'));
        
        // Add active state
        this.classList.add('active');
        
        // Analytics stub
        console.log('[Version 3 - Slider] User selected card:', cardType);
        
        // TODO: Navigate to search results
        // window.location.href = '/search?type=' + cardType;
    });
    
    // Keyboard support
    card.addEventListener('keydown', function(e) {
        if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            this.click();
        }
    });
});

// Arrow navigation
sliderPrev.addEventListener('click', function() {
    sliderContainer.scrollBy({
        left: -300,
        behavior: 'smooth'
    });
    console.log('[Version 3 - Slider] Navigation: Previous');
});

sliderNext.addEventListener('click', function() {
    sliderContainer.scrollBy({
        left: 300,
        behavior: 'smooth'
    });
    console.log('[Version 3 - Slider] Navigation: Next');
});

// Auto-detect active card on scroll
let scrollTimeout;
sliderContainer.addEventListener('scroll', function() {
    clearTimeout(scrollTimeout);
    scrollTimeout = setTimeout(() => {
        const containerCenter = sliderContainer.scrollLeft + sliderContainer.clientWidth / 2;
        
        sliderCards.forEach(card => {
            const cardLeft = card.offsetLeft;
            const cardCenter = cardLeft + card.clientWidth / 2;
            
            if (Math.abs(containerCenter - cardCenter) < card.clientWidth / 2) {
                sliderCards.forEach(c => c.classList.remove('active'));
                card.classList.add('active');
            }
        });
    }, 100);
});

// Set first card as active initially
if (sliderCards.length > 0) {
    sliderCards[0].classList.add('active');
}

// ============================================
// WIZARD MODAL LOGIC
// ============================================
let currentWizardStep = 1;
const totalWizardSteps = 6;
const wizardData = {};

function openWizard() {
    document.getElementById('wizardModal').classList.add('wizard-modal--active');
    currentWizardStep = 1;
    showWizardStep(1);
    loadDraftData();
}

function closeWizard() {
    document.getElementById('wizardModal').classList.remove('wizard-modal--active');
    saveDraftData();
}

function showWizardStep(step) {
    // Hide all steps
    document.querySelectorAll('.wizard-step').forEach(el => {
        el.style.display = 'none';
    });
    
    // Show current step
    const currentStep = document.querySelector(`[data-step="${step}"]`);
    if (currentStep) {
        currentStep.style.display = 'block';
    }
    
    // Update progress
    const progress = (step / totalWizardSteps) * 100;
    document.getElementById('wizardProgress').style.width = progress + '%';
    document.getElementById('wizardProgressText').textContent = 
        `${step}/${totalWizardSteps} ‚Äì Rendezv√©ny adatai`;
    
    // Update buttons
    document.getElementById('wizardBack').style.display = step > 1 ? 'block' : 'none';
    document.getElementById('wizardNext').style.display = step < totalWizardSteps ? 'block' : 'none';
    
    // Show summary and submit on step 7
    if (step === 7) {
        document.getElementById('wizardNext').style.display = 'none';
        document.getElementById('wizardSubmit').style.display = 'block';
        generateWizardSummary();
    } else {
        document.getElementById('wizardSubmit').style.display = 'none';
    }
}

function wizardNextStep() {
    // Validate current step
    const currentStepEl = document.querySelector(`[data-step="${currentWizardStep}"]`);
    const inputs = currentStepEl.querySelectorAll('input, select');
    let valid = true;
    
    inputs.forEach(input => {
        if (input.hasAttribute('required') && !input.value) {
            valid = false;
            input.classList.add('error');
        } else {
            input.classList.remove('error');
            wizardData[input.name] = input.value;
        }
    });
    
    if (!valid) {
        alert('K√©rlek t√∂ltsd ki a k√∂telez≈ë mez≈ëket!');
        return;
    }
    
    saveDraftData();
    
    if (currentWizardStep < totalWizardSteps) {
        currentWizardStep++;
        showWizardStep(currentWizardStep);
    } else {
        // Show summary
        currentWizardStep = 7;
        showWizardStep(7);
    }
}

function wizardPrevStep() {
    if (currentWizardStep > 1) {
        currentWizardStep = currentWizardStep === 7 ? totalWizardSteps : currentWizardStep - 1;
        showWizardStep(currentWizardStep);
    }
}

function generateWizardSummary() {
    const summary = `
        <div class="wizard-summary__item">
            <strong>D√°tum:</strong> ${wizardData.event_date || '-'}
        </div>
        <div class="wizard-summary__item">
            <strong>Id≈ëpont:</strong> ${wizardData.event_time || '-'}
        </div>
        <div class="wizard-summary__item">
            <strong>Helysz√≠n:</strong> ${wizardData.event_location || '-'}
        </div>
        <div class="wizard-summary__item">
            <strong>T√≠pus:</strong> ${wizardData.event_type || '-'}
        </div>
        <div class="wizard-summary__item">
            <strong>Vend√©gsz√°m:</strong> ${wizardData.guest_count || '-'} f≈ë
        </div>
        <div class="wizard-summary__item">
            <strong>N√©v:</strong> ${wizardData.contact_name || '-'}
        </div>
        <div class="wizard-summary__item">
            <strong>Email:</strong> ${wizardData.contact_email || '-'}
        </div>
        ${wizardData.contact_phone ? `<div class="wizard-summary__item"><strong>Telefon:</strong> ${wizardData.contact_phone}</div>` : ''}
    `;
    
    document.getElementById('wizardSummary').innerHTML = summary;
}

// Handle wizard form submission
document.getElementById('wizardForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    // TODO: Send data to backend
    console.log('Wizard submitted:', wizardData);
    
    // Analytics event
    if (typeof gtag !== 'undefined') {
        gtag('event', 'lead_submit', {
            'event_category': 'wizard',
            'event_label': 'complete'
        });
    }
    
    // TODO: POST to /api/leads
    fetch('/api/leads', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(wizardData)
    })
    .then(response => response.json())
    .then(data => {
        closeWizard();
        alert('K√∂sz√∂nj√ºk! 24 √≥r√°n bel√ºl v√°laszolunk az aj√°nlatk√©r√©sedre.');
        clearDraftData();
    })
    .catch(error => {
        console.error('Error:', error);
        alert('Hiba t√∂rt√©nt. K√©rlek pr√≥b√°ld √∫jra k√©s≈ëbb.');
    });
});

// ============================================
// LOCAL STORAGE - Draft Data
// ============================================
function saveDraftData() {
    localStorage.setItem('koncert24_draft', JSON.stringify(wizardData));
}

function loadDraftData() {
    const draft = localStorage.getItem('koncert24_draft');
    if (draft) {
        const data = JSON.parse(draft);
        Object.keys(data).forEach(key => {
            const input = document.querySelector(`[name="${key}"]`);
            if (input) {
                input.value = data[key];
                wizardData[key] = data[key];
            }
        });
    }
}

function clearDraftData() {
    localStorage.removeItem('koncert24_draft');
    Object.keys(wizardData).forEach(key => delete wizardData[key]);
}

// ============================================
// SEARCH PATH FUNCTIONS
// ============================================
function searchByName() {
    const name = document.getElementById('searchByName').value;
    if (name) {
        window.location.href = `/eloadok?q=${encodeURIComponent(name)}`;
    }
}

function startWizard() {
    const date = document.getElementById('wizardDate').value;
    const city = document.getElementById('wizardCity').value;
    
    if (date) wizardData.event_date = date;
    if (city) wizardData.event_location = city;
    
    openWizard();
}

function searchByPrice() {
    const min = document.getElementById('priceMin').value;
    const max = document.getElementById('priceMax').value;
    
    const params = new URLSearchParams();
    if (min) params.append('minPrice', min);
    if (max) params.append('maxPrice', max);
    
    window.location.href = `/eloadok?${params.toString()}`;
}

function searchByEventType(type) {
    window.location.href = `/eloadok?type=${type}`;
}

// ============================================
// TESTIMONIALS CAROUSEL
// ============================================
let currentTestimonial = 0;
const testimonials = document.querySelectorAll('.testimonial-card');
const totalTestimonials = testimonials.length;

function showTestimonial(index) {
    testimonials.forEach((card, i) => {
        card.classList.toggle('testimonial-card--active', i === index);
    });
    
    const dots = document.querySelectorAll('.testimonials__dot');
    dots.forEach((dot, i) => {
        dot.classList.toggle('testimonials__dot--active', i === index);
    });
    
    currentTestimonial = index;
}

function testimonialNext() {
    const next = (currentTestimonial + 1) % totalTestimonials;
    showTestimonial(next);
}

function testimonialPrev() {
    const prev = (currentTestimonial - 1 + totalTestimonials) % totalTestimonials;
    showTestimonial(prev);
}

function testimonialGoTo(index) {
    showTestimonial(index);
}

// Auto-rotate testimonials every 5 seconds
setInterval(testimonialNext, 5000);

// ============================================
// STICKY CTA - Show on scroll (mobile only)
// ============================================
const stickyCta = document.getElementById('stickyCta');
let lastScrollTop = 0;

window.addEventListener('scroll', function() {
    if (window.innerWidth <= 768) {
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        
        if (scrollTop > 300) {
            stickyCta.classList.add('sticky-cta--visible');
        } else {
            stickyCta.classList.remove('sticky-cta--visible');
        }
    }
});

// ============================================
// CITY AUTOCOMPLETE - Hero Form
// ============================================
const heroCity = document.getElementById('heroCity');
const cityAutocomplete = document.getElementById('cityAutocomplete');

// TODO: Replace with actual API call
const hungarianCities = [
    'Budapest', 'Debrecen', 'Szeged', 'Miskolc', 'P√©cs', 
    'Gy≈ër', 'Ny√≠regyh√°za', 'Kecskem√©t', 'Sz√©kesfeh√©rv√°r', 'Szombathely'
];

heroCity.addEventListener('input', function(e) {
    const value = e.target.value.toLowerCase();
    
    if (value.length < 2) {
        cityAutocomplete.innerHTML = '';
        cityAutocomplete.classList.remove('hero-form__autocomplete--visible');
        return;
    }
    
    const matches = hungarianCities.filter(city => 
        city.toLowerCase().includes(value)
    );
    
    if (matches.length > 0) {
        cityAutocomplete.innerHTML = matches.map(city => 
            `<div class="hero-form__autocomplete-item" role="option" onclick="selectCity('${city}')">${city}</div>`
        ).join('');
        cityAutocomplete.classList.add('hero-form__autocomplete--visible');
    } else {
        cityAutocomplete.innerHTML = '';
        cityAutocomplete.classList.remove('hero-form__autocomplete--visible');
    }
});

function selectCity(city) {
    heroCity.value = city;
    cityAutocomplete.innerHTML = '';
    cityAutocomplete.classList.remove('hero-form__autocomplete--visible');
}

// Close autocomplete when clicking outside
document.addEventListener('click', function(e) {
    if (!heroCity.contains(e.target) && !cityAutocomplete.contains(e.target)) {
        cityAutocomplete.classList.remove('hero-form__autocomplete--visible');
    }
});

// ============================================
// ANALYTICS - Event Tracking Stubs
// ============================================
function trackEvent(category, action, label) {
    console.log('Analytics event:', category, action, label);
    
    if (typeof gtag !== 'undefined') {
        gtag('event', action, {
            'event_category': category,
            'event_label': label
        });
    }
}

// Track search path card clicks
document.querySelectorAll('.search-path-card').forEach((card, index) => {
    card.addEventListener('click', function() {
        trackEvent('search_paths', 'card_click', `path_${index + 1}`);
    });
});

// Track hero form submission
document.getElementById('heroForm').addEventListener('submit', function() {
    trackEvent('hero', 'search_submit', 'main_search');
});

// ============================================
// KEYBOARD ACCESSIBILITY
// ============================================
document.querySelectorAll('[role="button"][tabindex="0"]').forEach(el => {
    el.addEventListener('keydown', function(e) {
        if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            el.click();
        }
    });
});

// ============================================
// PAGE LOAD - Initialize
// ============================================
document.addEventListener('DOMContentLoaded', function() {
    console.log('Alternative2 homepage loaded');
    
    // Load draft data on page load
    const draft = localStorage.getItem('koncert24_draft');
    if (draft) {
        console.log('Draft data found:', draft);
    }
    
    // Set minimum date to today for date inputs
    const today = new Date().toISOString().split('T')[0];
    document.querySelectorAll('input[type="date"]').forEach(input => {
        input.setAttribute('min', today);
    });
});
</script>

<!-- ============================================
     UX PROTOTYPE GALLERY - 6 Iterations
     ============================================ -->
<div class="ux-prototype-gallery" style="background: var(--bg-subtle); padding: var(--space-20) 0;">
    <div class="container">
        <h1 style="font-size: var(--text-5xl); font-weight: 800; text-align: center; color: var(--text-primary); margin-bottom: var(--space-6);">
            üß™ UX Protot√≠pus Gal√©ria
        </h1>
        <p style="font-size: var(--text-xl); text-align: center; color: var(--text-secondary); max-width: 800px; margin: 0 auto var(--space-16);">
            Hat iter√°ci√≥s l√©p√©s a keres√©si √©lm√©ny fejleszt√©s√©ben ‚Äì tesztel√©sre v√°r√≥ v√°ltozatok egym√°s mellett
        </p>

        <!-- ============================================
             ITER√ÅCI√ì 1 - Fast-start mini ≈±rlap + gyors √∫tv√°laszt√≥
             ============================================ -->
        <section class="iteration-section" id="iteration1" style="background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-2xl); padding: var(--space-12); margin-bottom: var(--space-16);">
            <h2 style="font-size: var(--text-3xl); font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-4); display: flex; align-items: center; gap: var(--space-3);">
                <span style="background: var(--color-primary-500); color: white; width: 48px; height: 48px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 800;">1</span>
                Iter√°ci√≥ 1 ‚Äì ‚ÄûFast-start" mini ≈±rlap + gyors √∫tv√°laszt√≥
            </h2>
            <p style="font-size: var(--text-base); color: var(--text-secondary); margin-bottom: var(--space-10); max-width: 700px;">
                <strong>Tesztel√©s c√©lja:</strong> K√©t p√°rhuzamos bel√©p√©si pont ‚Äì gyors aj√°nlatk√©r√©s azoknak, akik tudj√°k az adatokat, √©s √∫tv√°laszt√≥ gombok azoknak, akik b√∂ng√©szni szeretn√©nek.
            </p>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-8); margin-bottom: var(--space-8);">
                <!-- Left: Quick request form -->
                <div style="background: linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, transparent 100%); border: 2px solid rgba(59, 130, 246, 0.2); border-radius: var(--radius-xl); padding: var(--space-8);">
                    <h3 style="font-size: var(--text-xl); font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-6);">
                        ‚ö° Gyors aj√°nlatk√©r√©s
                    </h3>
                    <div style="display: flex; flex-direction: column; gap: var(--space-4);">
                        <input type="date" id="iter1Date" class="form__input" aria-label="Rendezv√©ny d√°tuma" style="width: 100%; padding: var(--space-3); border: 1px solid var(--border-base); border-radius: var(--radius-lg); font-size: var(--text-base);">
                        <input type="time" id="iter1Time" class="form__input" aria-label="Id≈ëpont" placeholder="Id≈ëpont" style="width: 100%; padding: var(--space-3); border: 1px solid var(--border-base); border-radius: var(--radius-lg); font-size: var(--text-base);">
                        <input type="text" id="iter1City" class="form__input" placeholder="V√°ros" aria-label="V√°ros" style="width: 100%; padding: var(--space-3); border: 1px solid var(--border-base); border-radius: var(--radius-lg); font-size: var(--text-base);">
                        <select id="iter1Type" class="form__input" aria-label="M≈±sor t√≠pusa" style="width: 100%; padding: var(--space-3); border: 1px solid var(--border-base); border-radius: var(--radius-lg); font-size: var(--text-base);">
                            <option value="">M≈±sor t√≠pusa</option>
                            <option value="zenekar">Zenekar</option>
                            <option value="dj">DJ</option>
                            <option value="tancosok">T√°ncosok</option>
                            <option value="musorvezeto">M≈±sorvezet≈ë</option>
                        </select>
                        <div style="display: flex; gap: var(--space-3);">
                            <button class="iter1-submit-btn" style="flex: 1; padding: var(--space-3); background: var(--color-primary-500); color: white; border: none; border-radius: var(--radius-lg); font-weight: 600; cursor: pointer; transition: all 0.2s;">
                                Aj√°nlatot k√©rek
                            </button>
                            <button class="iter1-search-btn" style="flex: 1; padding: var(--space-3); background: var(--bg-surface); color: var(--text-primary); border: 2px solid var(--border-base); border-radius: var(--radius-lg); font-weight: 600; cursor: pointer; transition: all 0.2s;">
                                Keresek el≈ëad√≥t
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Right: Quick selector buttons -->
                <div style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.05) 0%, transparent 100%); border: 2px solid rgba(16, 185, 129, 0.2); border-radius: var(--radius-xl); padding: var(--space-8);">
                    <h3 style="font-size: var(--text-xl); font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-6);">
                        üéØ Keres√©si m√≥dok
                    </h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-3);">
                        <button class="iter1-path-btn" data-path="search" style="padding: var(--space-5); background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-lg); cursor: pointer; transition: all 0.2s; text-align: center; font-size: var(--text-sm); font-weight: 600;">
                            <div style="font-size: 2rem; margin-bottom: var(--space-2);">üîç</div>
                            Tudom, kit keresek
                        </button>
                        <button class="iter1-path-btn" data-path="recommend" style="padding: var(--space-5); background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-lg); cursor: pointer; transition: all 0.2s; text-align: center; font-size: var(--text-sm); font-weight: 600;">
                            <div style="font-size: 2rem; margin-bottom: var(--space-2);">ü§ñ</div>
                            Aj√°nljatok nekem
                        </button>
                        <button class="iter1-path-btn" data-path="browse" style="padding: var(--space-5); background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-lg); cursor: pointer; transition: all 0.2s; text-align: center; font-size: var(--text-sm); font-weight: 600;">
                            <div style="font-size: 2rem; margin-bottom: var(--space-2);">üéß</div>
                            B√∂ng√©szek
                        </button>
                        <button class="iter1-path-btn" data-path="budget" style="padding: var(--space-5); background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-lg); cursor: pointer; transition: all 0.2s; text-align: center; font-size: var(--text-sm); font-weight: 600;">
                            <div style="font-size: 2rem; margin-bottom: var(--space-2);">üí∞</div>
                            K√∂lts√©gkeret szerint
                        </button>
                        <button class="iter1-path-btn" data-path="event" style="padding: var(--space-5); background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-lg); cursor: pointer; transition: all 0.2s; text-align: center; font-size: var(--text-sm); font-weight: 600; grid-column: 1 / -1;">
                            <div style="font-size: 2rem; margin-bottom: var(--space-2);">üé™</div>
                            Rendezv√©ny t√≠pusa szerint
                        </button>
                    </div>
                </div>
            </div>

            <style>
                .iter1-path-btn:hover { transform: scale(1.05); border-color: var(--color-primary-500); }
                .iter1-path-btn.active { background: rgba(59, 130, 246, 0.1); border-color: var(--color-primary-500); }
                .iter1-submit-btn:hover { background: var(--color-primary-600); transform: translateY(-2px); }
                .iter1-search-btn:hover { border-color: var(--color-primary-500); transform: translateY(-2px); }
                @media (max-width: 768px) {
                    #iteration1 > div:first-of-type { grid-template-columns: 1fr; }
                }
            </style>
        </section>

        <!-- ============================================
             ITER√ÅCI√ì 2 - Smart Defaults + Progressz√≠v k√©rdez√©s
             ============================================ -->
        <section class="iteration-section" id="iteration2" style="background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-2xl); padding: var(--space-12); margin-bottom: var(--space-16);">
            <h2 style="font-size: var(--text-3xl); font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-4); display: flex; align-items: center; gap: var(--space-3);">
                <span style="background: var(--color-success-500); color: white; width: 48px; height: 48px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 800;">2</span>
                Iter√°ci√≥ 2 ‚Äì Smart Defaults + Progressz√≠v k√©rdez√©s
            </h2>
            <p style="font-size: var(--text-base); color: var(--text-secondary); margin-bottom: var(--space-10); max-width: 700px;">
                <strong>Tesztel√©s c√©lja:</strong> Intelligens alap√©rt√©kek aj√°nl√°sa √©s fokozatos ≈±rlap-megjelen√≠t√©s. A rendszer dinamikusan reag√°l a felhaszn√°l√≥ inputj√°ra.
            </p>

            <div style="max-width: 600px; margin: 0 auto; background: linear-gradient(135deg, rgba(139, 92, 246, 0.05) 0%, transparent 100%); border: 2px solid rgba(139, 92, 246, 0.2); border-radius: var(--radius-xl); padding: var(--space-10);">
                <h3 style="font-size: var(--text-2xl); font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-8); text-align: center;">
                    üß† Intelligens aj√°nlatk√©r√©s
                </h3>

                <div style="display: flex; flex-direction: column; gap: var(--space-5);">
                    <div>
                        <label style="font-size: var(--text-sm); font-weight: 600; color: var(--text-secondary); margin-bottom: var(--space-2); display: block;">
                            Rendezv√©ny d√°tuma
                        </label>
                        <input type="date" id="iter2Date" class="iter2-input" style="width: 100%; padding: var(--space-3); border: 2px solid var(--border-base); border-radius: var(--radius-lg); font-size: var(--text-base); transition: all 0.3s;">
                    </div>

                    <div id="iter2CityContainer" style="display: none; opacity: 0; transition: all 0.5s;">
                        <label style="font-size: var(--text-sm); font-weight: 600; color: var(--text-secondary); margin-bottom: var(--space-2); display: block;">
                            Telep√ºl√©s
                        </label>
                        <div style="position: relative;">
                            <input type="text" id="iter2City" class="iter2-input" placeholder="Budapest" style="width: 100%; padding: var(--space-3); border: 2px solid var(--border-base); border-radius: var(--radius-lg); font-size: var(--text-base);">
                            <span style="position: absolute; right: 12px; top: 50%; transform: translateY(-50%); font-size: var(--text-sm); color: var(--color-primary-500); font-weight: 600;">
                                Javasolt
                            </span>
                        </div>
                    </div>

                    <div id="iter2TypeContainer" style="display: none; opacity: 0; transition: all 0.5s;">
                        <label style="font-size: var(--text-sm); font-weight: 600; color: var(--text-secondary); margin-bottom: var(--space-2); display: block;">
                            M≈±sor t√≠pusa
                        </label>
                        <select id="iter2Type" class="iter2-input" style="width: 100%; padding: var(--space-3); border: 2px solid var(--border-base); border-radius: var(--radius-lg); font-size: var(--text-base);">
                            <option value="">V√°lassz...</option>
                            <option value="zenekar">Zenekar / Live Band</option>
                            <option value="dj">DJ / Lemezlovas</option>
                            <option value="tancosok">T√°ncosok / Showm≈±sor</option>
                            <option value="musorvezeto">M≈±sorvezet≈ë / Konferanszi</option>
                        </select>
                    </div>

                    <div id="iter2TimeContainer" style="display: none; opacity: 0; transition: all 0.5s;">
                        <label style="font-size: var(--text-sm); font-weight: 600; color: var(--text-secondary); margin-bottom: var(--space-2); display: block;">
                            Prefer√°lt kezd√©si id≈ëpont
                        </label>
                        <input type="time" id="iter2Time" class="iter2-input" value="18:00" style="width: 100%; padding: var(--space-3); border: 2px solid var(--border-base); border-radius: var(--radius-lg); font-size: var(--text-base);">
                    </div>

                    <button id="iter2Submit" style="display: none; opacity: 0; width: 100%; padding: var(--space-4); background: var(--color-primary-500); color: white; border: none; border-radius: var(--radius-lg); font-size: var(--text-lg); font-weight: 600; cursor: pointer; transition: all 0.3s; margin-top: var(--space-4);">
                        Aj√°nlatot k√©rek most
                    </button>
                </div>

                <div id="iter2Hint" style="display: none; opacity: 0; margin-top: var(--space-6); padding: var(--space-4); background: rgba(16, 185, 129, 0.1); border-left: 4px solid var(--color-success-500); border-radius: var(--radius-lg); transition: all 0.5s;">
                    <p style="font-size: var(--text-sm); color: var(--text-primary); margin: 0;">
                        üí° <strong>J√≥ h√≠r!</strong> Ezen a napon <span id="iter2PerformerCount">t√∂bb</span> el≈ëad√≥ is el√©rhet≈ë a k√∂rny√©ken ‚Äì k√©rj aj√°nlatot most!
                    </p>
                </div>
            </div>

            <style>
                .iter2-input:focus { border-color: var(--color-primary-500); outline: none; box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1); }
                #iter2Submit:hover { background: var(--color-primary-600); transform: translateY(-2px); }
            </style>
        </section>

        <!-- ============================================
             ITER√ÅCI√ì 3 - H√°rom √∫tvonalas d√∂nt√©si fa
             ============================================ -->
        <section class="iteration-section" id="iteration3" style="background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-2xl); padding: var(--space-12); margin-bottom: var(--space-16);">
            <h2 style="font-size: var(--text-3xl); font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-4); display: flex; align-items: center; gap: var(--space-3);">
                <span style="background: var(--color-warning-500); color: white; width: 48px; height: 48px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 800;">3</span>
                Iter√°ci√≥ 3 ‚Äì H√°rom √∫tvonalas d√∂nt√©si fa (pill v√°laszt√≥)
            </h2>
            <p style="font-size: var(--text-base); color: var(--text-secondary); margin-bottom: var(--space-10); max-width: 700px;">
                <strong>Tesztel√©s c√©lja:</strong> Egyszer≈± A/B/C v√°laszt√°s, majd relev√°ns mini-≈±rlap megjelen√≠t√©se. Cs√∂kkenti a kognit√≠v terhel√©st az els≈ë l√©p√©sben.
            </p>

            <div style="max-width: 700px; margin: 0 auto;">
                <p style="font-size: var(--text-xl); font-weight: 600; text-align: center; color: var(--text-primary); margin-bottom: var(--space-6);">
                    Melyik illik r√°d legink√°bb?
                </p>

                <div style="display: flex; gap: var(--space-4); margin-bottom: var(--space-10); flex-wrap: wrap; justify-content: center;">
                    <button class="iter3-pill" data-option="name" style="padding: var(--space-4) var(--space-8); background: var(--bg-surface); border: 3px solid var(--border-base); border-radius: 9999px; font-size: var(--text-lg); font-weight: 600; cursor: pointer; transition: all 0.3s; white-space: nowrap;">
                        üé§ Megvan az el≈ëad√≥ neve
                    </button>
                    <button class="iter3-pill" data-option="date" style="padding: var(--space-4) var(--space-8); background: var(--bg-surface); border: 3px solid var(--border-base); border-radius: 9999px; font-size: var(--text-lg); font-weight: 600; cursor: pointer; transition: all 0.3s; white-space: nowrap;">
                        üìÖ Csak a d√°tum √©s hely ismert
                    </button>
                    <button class="iter3-pill" data-option="budget" style="padding: var(--space-4) var(--space-8); background: var(--bg-surface); border: 3px solid var(--border-base); border-radius: 9999px; font-size: var(--text-lg); font-weight: 600; cursor: pointer; transition: all 0.3s; white-space: nowrap;">
                        üí∞ K√∂lts√©gkeret alapj√°n keresek
                    </button>
                </div>

                <div id="iter3FormContainer" style="display: none; opacity: 0; transition: all 0.5s;">
                    <p style="text-align: center; font-size: var(--text-sm); color: var(--text-secondary); margin-bottom: var(--space-6);">
                        ‚ú® Csak n√©h√°ny adat, √©s m√°ris aj√°nlatot kapsz.
                    </p>

                    <!-- Case 1: Search by name -->
                    <div id="iter3CaseName" class="iter3-case" style="display: none; background: linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, transparent 100%); border: 2px solid rgba(59, 130, 246, 0.2); border-radius: var(--radius-xl); padding: var(--space-8);">
                        <label style="font-size: var(--text-base); font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-3); display: block;">
                            El≈ëad√≥ neve
                        </label>
                        <input type="text" id="iter3Name" placeholder="pl. Honeybeast, Danko Band..." style="width: 100%; padding: var(--space-4); border: 2px solid var(--border-base); border-radius: var(--radius-lg); font-size: var(--text-base); margin-bottom: var(--space-4);">
                        <button class="iter3-submit" style="width: 100%; padding: var(--space-4); background: var(--color-primary-500); color: white; border: none; border-radius: var(--radius-lg); font-weight: 600; cursor: pointer;">
                            Keres√©s ind√≠t√°sa
                        </button>
                    </div>

                    <!-- Case 2: Date + location -->
                    <div id="iter3CaseDate" class="iter3-case" style="display: none; background: linear-gradient(135deg, rgba(16, 185, 129, 0.05) 0%, transparent 100%); border: 2px solid rgba(16, 185, 129, 0.2); border-radius: var(--radius-xl); padding: var(--space-8);">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-4); margin-bottom: var(--space-4);">
                            <div>
                                <label style="font-size: var(--text-sm); font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-2); display: block;">D√°tum</label>
                                <input type="date" id="iter3DateInput" style="width: 100%; padding: var(--space-3); border: 2px solid var(--border-base); border-radius: var(--radius-lg);">
                            </div>
                            <div>
                                <label style="font-size: var(--text-sm); font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-2); display: block;">Helysz√≠n</label>
                                <input type="text" id="iter3Location" placeholder="V√°ros" style="width: 100%; padding: var(--space-3); border: 2px solid var(--border-base); border-radius: var(--radius-lg);">
                            </div>
                        </div>
                        <button class="iter3-submit" style="width: 100%; padding: var(--space-4); background: var(--color-success-500); color: white; border: none; border-radius: var(--radius-lg); font-weight: 600; cursor: pointer;">
                            El√©rhet≈ë el≈ëad√≥k mutat√°sa
                        </button>
                    </div>

                    <!-- Case 3: Budget slider -->
                    <div id="iter3CaseBudget" class="iter3-case" style="display: none; background: linear-gradient(135deg, rgba(245, 158, 11, 0.05) 0%, transparent 100%); border: 2px solid rgba(245, 158, 11, 0.2); border-radius: var(--radius-xl); padding: var(--space-8);">
                        <label style="font-size: var(--text-base); font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-4); display: block;">
                            Maxim√°lis k√∂lts√©gkeret (fell√©p≈ëd√≠j)
                        </label>
                        <div style="margin-bottom: var(--space-6);">
                            <input type="range" id="iter3BudgetSlider" min="0" max="2000000" step="50000" value="500000" style="width: 100%; height: 8px; border-radius: 4px; appearance: none; background: linear-gradient(to right, var(--color-primary-500) 0%, var(--color-primary-500) 25%, var(--bg-subtle) 25%, var(--bg-subtle) 100%);">
                            <div style="display: flex; justify-content: space-between; margin-top: var(--space-2);">
                                <span style="font-size: var(--text-sm); color: var(--text-secondary);">0 Ft</span>
                                <span id="iter3BudgetValue" style="font-size: var(--text-xl); font-weight: 700; color: var(--color-primary-500);">500 000 Ft</span>
                                <span style="font-size: var(--text-sm); color: var(--text-secondary);">2 000 000 Ft</span>
                            </div>
                        </div>
                        <button class="iter3-submit" style="width: 100%; padding: var(--space-4); background: var(--color-warning-500); color: white; border: none; border-radius: var(--radius-lg); font-weight: 600; cursor: pointer;">
                            Belef√©r: mutasd az el≈ëad√≥kat
                        </button>
                    </div>
                </div>
            </div>

            <style>
                .iter3-pill:hover { transform: scale(1.05); border-color: var(--color-primary-500); background: rgba(59, 130, 246, 0.05); }
                .iter3-pill.active { background: var(--color-primary-500); color: white; border-color: var(--color-primary-500); }
                .iter3-submit:hover { transform: translateY(-2px); opacity: 0.9; }
                @media (max-width: 768px) {
                    .iter3-pill { width: 100%; text-align: center; }
                }
            </style>
        </section>

        <!-- ============================================
             ITER√ÅCI√ì 4 - √âl≈ë el≈ëad√≥-el≈ën√©zet
             ============================================ -->
        <section class="iteration-section" id="iteration4" style="background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-2xl); padding: var(--space-12); margin-bottom: var(--space-16);">
            <h2 style="font-size: var(--text-3xl); font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-4); display: flex; align-items: center; gap: var(--space-3);">
                <span style="background: var(--color-error-500); color: white; width: 48px; height: 48px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 800;">4</span>
                Iter√°ci√≥ 4 ‚Äì √âl≈ë el≈ëad√≥-el≈ën√©zet (Live Preview)
            </h2>
            <p style="font-size: var(--text-base); color: var(--text-secondary); margin-bottom: var(--space-10); max-width: 700px;">
                <strong>Tesztel√©s c√©lja:</strong> Azonnali vizu√°lis feedback ‚Äì ahogy a felhaszn√°l√≥ sz≈±r, val√≥s id≈ëben l√°tja az el≈ëad√≥kat. N√∂veli a bizalmat √©s motiv√°ci√≥t.
            </p>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-10);">
                <!-- Left: Filter form -->
                <div>
                    <h3 style="font-size: var(--text-xl); font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-6);">
                        üéõÔ∏è Sz≈±r≈ëk
                    </h3>

                    <div style="display: flex; gap: var(--space-3); margin-bottom: var(--space-6);">
                        <button class="iter4-pill" data-filter="all" style="padding: var(--space-3) var(--space-5); background: var(--color-primary-500); color: white; border: 2px solid var(--color-primary-500); border-radius: 9999px; font-size: var(--text-sm); font-weight: 600; cursor: pointer;">
                            √ñsszes
                        </button>
                        <button class="iter4-pill" data-filter="zenekar" style="padding: var(--space-3) var(--space-5); background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: 9999px; font-size: var(--text-sm); font-weight: 600; cursor: pointer;">
                            Zenekar
                        </button>
                        <button class="iter4-pill" data-filter="dj" style="padding: var(--space-3) var(--space-5); background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: 9999px; font-size: var(--text-sm); font-weight: 600; cursor: pointer;">
                            DJ
                        </button>
                    </div>

                    <div style="margin-bottom: var(--space-6);">
                        <label style="font-size: var(--text-sm); font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-2); display: block;">D√°tum</label>
                        <input type="date" id="iter4Date" style="width: 100%; padding: var(--space-3); border: 2px solid var(--border-base); border-radius: var(--radius-lg);">
                    </div>

                    <div style="margin-bottom: var(--space-6);">
                        <label style="font-size: var(--text-sm); font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-2); display: block;">Helysz√≠n (sug√°r: 50 km)</label>
                        <input type="text" id="iter4City" placeholder="Budapest" value="Budapest" style="width: 100%; padding: var(--space-3); border: 2px solid var(--border-base); border-radius: var(--radius-lg);">
                    </div>

                    <div>
                        <label style="font-size: var(--text-sm); font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-4); display: block;">Max. d√≠j: <span id="iter4BudgetDisplay">800 000 Ft</span></label>
                        <input type="range" id="iter4Budget" min="0" max="2000000" step="100000" value="800000" style="width: 100%;">
                    </div>
                </div>

                <!-- Right: Live preview cards -->
                <div>
                    <h3 style="font-size: var(--text-xl); font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-2);">
                        üé§ El√©rhet≈ë el≈ëad√≥k
                    </h3>
                    <p style="font-size: var(--text-sm); color: var(--text-secondary); margin-bottom: var(--space-6);">
                        <span id="iter4ResultCount">3</span> tal√°lat a sz≈±r≈ëk alapj√°n
                    </p>

                    <div id="iter4PreviewContainer" style="display: flex; flex-direction: column; gap: var(--space-4);">
                        <!-- Performer cards will be inserted here -->
                    </div>
                </div>
            </div>

            <style>
                .iter4-pill.active { background: var(--color-primary-500); color: white; border-color: var(--color-primary-500); }
                .iter4-pill:hover { transform: scale(1.05); }
                .iter4-performer-card { cursor: pointer; transition: all 0.3s; }
                .iter4-performer-card:hover { transform: translateX(8px); box-shadow: 0 8px 20px rgba(0,0,0,0.12); }
                @media (max-width: 968px) {
                    #iteration4 > div { grid-template-columns: 1fr; }
                }
            </style>
        </section>

        <!-- ============================================
             ITER√ÅCI√ì 5 - Micro-commit √©s bizalom√©p√≠t√©s
             ============================================ -->
        <section class="iteration-section" id="iteration5" style="background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-2xl); padding: var(--space-12); margin-bottom: var(--space-16);">
            <h2 style="font-size: var(--text-3xl); font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-4); display: flex; align-items: center; gap: var(--space-3);">
                <span style="background: var(--color-info-500); color: white; width: 48px; height: 48px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 800;">5</span>
                Iter√°ci√≥ 5 ‚Äì Micro-commit √©s bizalom√©p√≠t√©s
            </h2>
            <p style="font-size: var(--text-base); color: var(--text-secondary); margin-bottom: var(--space-10); max-width: 700px;">
                <strong>Tesztel√©s c√©lja:</strong> Alacsony elk√∂telez≈ëd√©si k√ºsz√∂b ‚Äì "ment√©s k√©s≈ëbbre" funkci√≥ bizalmi elemekkel. Cs√∂kkenti az azonnali d√∂nt√©si nyom√°st.
            </p>

            <div style="max-width: 500px; margin: 0 auto; background: linear-gradient(135deg, rgba(99, 102, 241, 0.05) 0%, transparent 100%); border: 2px solid rgba(99, 102, 241, 0.2); border-radius: var(--radius-2xl); padding: var(--space-10); text-align: center;">
                <div style="font-size: 4rem; margin-bottom: var(--space-4);">üîí</div>
                
                <h3 style="font-size: var(--text-2xl); font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-3);">
                    M√©g nem d√∂nt√∂tt√©l?
                </h3>
                
                <p style="font-size: var(--text-base); color: var(--text-secondary); margin-bottom: var(--space-8); line-height: 1.6;">
                    Nem biztos m√©g az id≈ëpontban vagy a r√©szletekben?<br>
                    <strong>Mentsd el a keres√©sedet</strong>, √©s k√ºld√ºnk eml√©keztet≈ët k√©s≈ëbb!
                </p>

                <div style="margin-bottom: var(--space-6);">
                    <input 
                        type="email" 
                        id="iter5Email" 
                        placeholder="email@pelda.hu" 
                        style="width: 100%; padding: var(--space-4); border: 2px solid var(--border-base); border-radius: var(--radius-lg); font-size: var(--text-base); text-align: center; margin-bottom: var(--space-4);"
                    >
                    
                    <button id="iter5SaveBtn" style="width: 100%; padding: var(--space-4); background: var(--color-info-500); color: white; border: none; border-radius: var(--radius-lg); font-size: var(--text-lg); font-weight: 600; cursor: pointer; transition: all 0.3s;">
                        üíæ Ment√©s k√©s≈ëbbre
                    </button>
                </div>

                <div id="iter5Success" style="display: none; padding: var(--space-4); background: rgba(16, 185, 129, 0.1); border-radius: var(--radius-lg); margin-bottom: var(--space-6);">
                    <p style="font-size: var(--text-sm); color: var(--color-success-700); margin: 0; font-weight: 600;">
                        ‚úÖ Elmentve! Eml√©keztet≈ët k√ºld√ºnk 3 nap m√∫lva.
                    </p>
                </div>

                <div style="display: flex; align-items: center; justify-content: center; gap: var(--space-2); padding: var(--space-4); background: rgba(99, 102, 241, 0.05); border-radius: var(--radius-lg);">
                    <span style="font-size: var(--text-2xl);">üîê</span>
                    <p style="font-size: var(--text-sm); color: var(--text-secondary); margin: 0;">
                        <strong>Adatv√©delem biztos√≠tott</strong> ‚Äì Soha nem adjuk √°t harmadik f√©lnek
                    </p>
                </div>

                <p style="font-size: var(--text-xs); color: var(--text-tertiary); margin-top: var(--space-6); line-height: 1.5;">
                    Az √©rtes√≠t√©st b√°rmikor lemondhatod. GDPR-kompatibilis adatkezel√©s.
                </p>
            </div>

            <style>
                #iter5SaveBtn:hover { background: var(--color-info-600); transform: translateY(-2px); }
                #iter5Email:focus { border-color: var(--color-info-500); outline: none; }
            </style>
        </section>

        <!-- ============================================
             ITER√ÅCI√ì 6 - Adapt√≠v v√©gleges megold√°s
             ============================================ -->
        <section class="iteration-section" id="iteration6" style="background: linear-gradient(135deg, rgba(168, 85, 247, 0.1) 0%, rgba(59, 130, 246, 0.05) 100%); border: 3px solid rgba(168, 85, 247, 0.3); border-radius: var(--radius-2xl); padding: var(--space-16); margin-bottom: var(--space-20);">
            <h2 style="font-size: var(--text-4xl); font-weight: 800; color: var(--text-primary); margin-bottom: var(--space-4); display: flex; align-items: center; gap: var(--space-4); justify-content: center;">
                <span style="background: linear-gradient(135deg, var(--color-primary-500), var(--color-purple-500)); color: white; width: 56px; height: 56px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 800; box-shadow: 0 8px 20px rgba(0,0,0,0.15);">6</span>
                Iter√°ci√≥ 6 ‚Äì Adapt√≠v v√©gleges megold√°s
            </h2>
            <p style="font-size: var(--text-lg); color: var(--text-secondary); margin-bottom: var(--space-12); max-width: 800px; text-align: center; margin-left: auto; margin-right: auto; line-height: 1.7;">
                <strong>Tesztel√©s c√©lja:</strong> A legjobb elemek kombin√°ci√≥ja ‚Äì adapt√≠v, szem√©lyre szabott, bizalom√©p√≠t≈ë, k√∂nnyen haszn√°lhat√≥. Teljes k√∂r≈± megold√°s minden felhaszn√°l√≥i t√≠pusra.
            </p>

            <div style="max-width: 900px; margin: 0 auto;">
                <!-- Step 1: Pill selector -->
                <div style="text-align: center; margin-bottom: var(--space-10);">
                    <h3 style="font-size: var(--text-2xl); font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-6);">
                        üéØ Tal√°ld meg a neked val√≥ keres√©si m√≥dot
                    </h3>
                    
                    <div style="display: flex; gap: var(--space-4); justify-content: center; flex-wrap: wrap;">
                        <button class="iter6-mode" data-mode="quick" style="padding: var(--space-5) var(--space-8); background: var(--bg-surface); border: 3px solid var(--border-base); border-radius: 9999px; font-size: var(--text-lg); font-weight: 600; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; gap: var(--space-3);">
                            <span style="font-size: 2rem;">‚ö°</span>
                            <span>Gyors keres√©s</span>
                        </button>
                        <button class="iter6-mode" data-mode="guided" style="padding: var(--space-5) var(--space-8); background: var(--bg-surface); border: 3px solid var(--border-base); border-radius: 9999px; font-size: var(--text-lg); font-weight: 600; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; gap: var(--space-3);">
                            <span style="font-size: 2rem;">üß≠</span>
                            <span>Vezetett aj√°nl√°s</span>
                        </button>
                        <button class="iter6-mode" data-mode="explore" style="padding: var(--space-5) var(--space-8); background: var(--bg-surface); border: 3px solid var(--border-base); border-radius: 9999px; font-size: var(--text-lg); font-weight: 600; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; gap: var(--space-3);">
                            <span style="font-size: 2rem;">üîç</span>
                            <span>Felfedez√©s</span>
                        </button>
                    </div>
                </div>

                <!-- Dynamic content area -->
                <div id="iter6Content" style="min-height: 400px; background: var(--bg-surface); border-radius: var(--radius-2xl); padding: var(--space-10); box-shadow: 0 8px 24px rgba(0,0,0,0.08); margin-bottom: var(--space-8);">
                    <div style="text-align: center; padding: var(--space-16); color: var(--text-tertiary);">
                        <div style="font-size: 4rem; margin-bottom: var(--space-4);">üëÜ</div>
                        <p style="font-size: var(--text-lg);">V√°lassz egy m√≥dot a fenti gombok k√∂z√ºl</p>
                    </div>
                </div>

                <!-- Live preview section -->
                <div id="iter6Preview" style="display: none; opacity: 0; transition: all 0.5s; background: linear-gradient(135deg, rgba(59, 130, 246, 0.05), rgba(16, 185, 129, 0.05)); border-radius: var(--radius-2xl); padding: var(--space-8); margin-bottom: var(--space-8);">
                    <h4 style="font-size: var(--text-lg); font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-6); display: flex; align-items: center; gap: var(--space-2);">
                        <span style="font-size: 1.5rem;">üé§</span>
                        El≈ën√©zet: El√©rhet≈ë el≈ëad√≥k (<span id="iter6PreviewCount">0</span>)
                    </h4>
                    <div id="iter6PreviewCards" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: var(--space-4);">
                        <!-- Preview cards here -->
                    </div>
                </div>

                <!-- Micro-commit option -->
                <div style="text-align: center; padding: var(--space-8); background: rgba(99, 102, 241, 0.05); border: 2px dashed rgba(99, 102, 241, 0.3); border-radius: var(--radius-xl);">
                    <p style="font-size: var(--text-sm); color: var(--text-secondary); margin-bottom: var(--space-4);">
                        M√©g nem d√∂nt√∂tt√©l? Mentsd el √©s folytasd k√©s≈ëbb
                    </p>
                    <button id="iter6SaveForLater" style="padding: var(--space-3) var(--space-6); background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-lg); font-weight: 600; cursor: pointer; transition: all 0.2s;">
                        üíæ Ment√©s k√©s≈ëbbre
                    </button>
                </div>
            </div>

            <!-- Sticky CTA bar (mobile) -->
            <div id="iter6StickyCTA" style="display: none; position: fixed; bottom: 0; left: 0; right: 0; background: var(--bg-surface); border-top: 2px solid var(--border-base); padding: var(--space-4); z-index: 100; box-shadow: 0 -4px 12px rgba(0,0,0,0.1);">
                <div style="display: flex; gap: var(--space-3); max-width: 600px; margin: 0 auto;">
                    <button id="iter6MobileCTA" style="flex: 2; padding: var(--space-4); background: var(--color-primary-500); color: white; border: none; border-radius: var(--radius-lg); font-weight: 700; font-size: var(--text-base);">
                        Aj√°nlatot k√©rek
                    </button>
                    <button id="iter6MobileSave" style="flex: 1; padding: var(--space-4); background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-lg); font-weight: 600; font-size: var(--text-base);">
                        Ment√©s
                    </button>
                </div>
            </div>

            <style>
                .iter6-mode:hover { transform: scale(1.05); border-color: var(--color-primary-500); background: rgba(59, 130, 246, 0.05); }
                .iter6-mode.active { background: linear-gradient(135deg, var(--color-primary-500), var(--color-purple-500)); color: white; border-color: transparent; box-shadow: 0 8px 20px rgba(59, 130, 246, 0.3); }
                
                @media (max-width: 768px) {
                    #iter6StickyCTA { display: block; }
                    .iter6-mode { width: 100%; justify-content: center; }
                }
            </style>
        </section>

    </div>
</div>

<script>
// ============================================
// ITERATIONS 1-6 - JavaScript Logic
// ============================================

// Wait for DOM to be fully loaded
document.addEventListener('DOMContentLoaded', function() {

// ============================================
// ITERATION 1 - Event Handlers
// ============================================
const iter1PathBtns = document.querySelectorAll('.iter1-path-btn');
if (iter1PathBtns.length > 0) {
    iter1PathBtns.forEach(btn => {
        btn.addEventListener('click', function() {
            iter1PathBtns.forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            console.log('[Iteration 1] Path selected:', this.dataset.path);
        });
    });
}

const iter1SubmitBtn = document.querySelector('.iter1-submit-btn');
if (iter1SubmitBtn) {
    iter1SubmitBtn.addEventListener('click', function() {
        console.log('[Iteration 1] Submit request clicked');
    });
}

const iter1SearchBtn = document.querySelector('.iter1-search-btn');
if (iter1SearchBtn) {
    iter1SearchBtn.addEventListener('click', function() {
        console.log('[Iteration 1] Search performer clicked');
    });
}

// ============================================
// ITERATION 2 - Progressive Form Reveal
// ============================================
const iter2Date = document.getElementById('iter2Date');
const iter2City = document.getElementById('iter2City');
const iter2Type = document.getElementById('iter2Type');
const iter2Time = document.getElementById('iter2Time');

function revealElement(element) {
    element.style.display = 'block';
    setTimeout(() => element.style.opacity = '1', 50);
}

iter2Date?.addEventListener('change', function() {
    if (this.value) {
        revealElement(document.getElementById('iter2CityContainer'));
        console.log('[Iteration 2] Date selected:', this.value);
    }
});

iter2City?.addEventListener('input', function() {
    if (this.value.length > 0) {
        revealElement(document.getElementById('iter2TypeContainer'));
        
        const randomCount = Math.floor(Math.random() * 10) + 5;
        document.getElementById('iter2PerformerCount').textContent = randomCount;
        revealElement(document.getElementById('iter2Hint'));
        
        console.log('[Iteration 2] City entered:', this.value);
    }
});

iter2Type?.addEventListener('change', function() {
    if (this.value) {
        revealElement(document.getElementById('iter2TimeContainer'));
        console.log('[Iteration 2] Type selected:', this.value);
    }
});

iter2Time?.addEventListener('change', function() {
    if (this.value) {
        revealElement(document.getElementById('iter2Submit'));
        console.log('[Iteration 2] Time selected:', this.value);
    }
});

document.getElementById('iter2Submit')?.addEventListener('click', function() {
    console.log('[Iteration 2] Final submit clicked');
});

// ============================================
// ITERATION 3 - Pill selector with forms
// ============================================
document.querySelectorAll('.iter3-pill').forEach(btn => {
    btn.addEventListener('click', function() {
        document.querySelectorAll('.iter3-pill').forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        
        const option = this.dataset.option;
        const container = document.getElementById('iter3FormContainer');
        
        // Hide all cases
        document.querySelectorAll('.iter3-case').forEach(c => c.style.display = 'none');
        
        // Show relevant case
        if (option === 'name') {
            document.getElementById('iter3CaseName').style.display = 'block';
        } else if (option === 'date') {
            document.getElementById('iter3CaseDate').style.display = 'block';
        } else if (option === 'budget') {
            document.getElementById('iter3CaseBudget').style.display = 'block';
        }
        
        container.style.display = 'block';
        setTimeout(() => container.style.opacity = '1', 50);
        
        console.log('[Iteration 3] Selected option:', option);
    });
});

// Budget slider for iteration 3
const iter3Slider = document.getElementById('iter3BudgetSlider');
const iter3Value = document.getElementById('iter3BudgetValue');
if (iter3Slider) {
    iter3Slider.addEventListener('input', function() {
        const value = parseInt(this.value);
        iter3Value.textContent = value.toLocaleString('hu-HU') + ' Ft';
        
        const percent = (value / 2000000) * 100;
        this.style.background = `linear-gradient(to right, var(--color-primary-500) 0%, var(--color-primary-500) ${percent}%, var(--bg-subtle) ${percent}%, var(--bg-subtle) 100%)`;
    });
}

document.querySelectorAll('.iter3-submit').forEach(btn => {
    btn.addEventListener('click', () => console.log('[Iteration 3] Submit clicked'));
});

// ============================================
// ITERATION 4 - Live Preview
// ============================================
const iter4Performers = [
    { name: 'Koncert Band', type: 'zenekar', price: 450000, img: 'üé∏', genre: 'Rock/Pop' },
    { name: 'DJ Soundmaster', type: 'dj', price: 280000, img: 'üéß', genre: 'House/Techno' },
    { name: 'Esk√ºv≈ëi Zenekar', type: 'zenekar', price: 650000, img: 'üé∫', genre: 'Jazz/Soul' },
    { name: 'Party DJ Viktor', type: 'dj', price: 180000, img: 'üéµ', genre: 'Top 40' },
    { name: 'Live Orchestra', type: 'zenekar', price: 1200000, img: 'üéª', genre: 'Klasszikus' }
];

function renderIter4Performers(filter = 'all', budget = 2000000) {
    const container = document.getElementById('iter4PreviewContainer');
    if (!container) return;
    
    let filtered = iter4Performers.filter(p => p.price <= budget);
    if (filter !== 'all') {
        filtered = filtered.filter(p => p.type === filter);
    }
    
    document.getElementById('iter4ResultCount').textContent = filtered.length;
    
    container.innerHTML = filtered.map(p => `
        <div class="iter4-performer-card" data-name="${p.name}" style="display: flex; gap: var(--space-4); padding: var(--space-5); background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-xl); cursor: pointer;">
            <div style="font-size: 3rem; flex-shrink: 0;">${p.img}</div>
            <div style="flex: 1;">
                <h4 style="font-size: var(--text-lg); font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-1);">${p.name}</h4>
                <p style="font-size: var(--text-sm); color: var(--text-secondary); margin-bottom: var(--space-2);">${p.genre}</p>
                <p style="font-size: var(--text-base); font-weight: 600; color: var(--color-primary-500);">${p.price.toLocaleString('hu-HU')} Ft</p>
            </div>
            <div style="display: flex; align-items: center;">
                <span style="font-size: 1.5rem;">‚Üí</span>
            </div>
        </div>
    `).join('');
    
    // Add click handlers
    container.querySelectorAll('.iter4-performer-card').forEach(card => {
        card.addEventListener('click', function() {
            console.log('[Iteration 4] Preview clicked:', this.dataset.name);
        });
    });
}

// Initialize iteration 4
renderIter4Performers();

// Filter buttons
document.querySelectorAll('.iter4-pill').forEach(btn => {
    btn.addEventListener('click', function() {
        document.querySelectorAll('.iter4-pill').forEach(b => {
            b.style.background = 'var(--bg-surface)';
            b.style.color = 'var(--text-primary)';
            b.style.borderColor = 'var(--border-base)';
            b.classList.remove('active');
        });
        this.style.background = 'var(--color-primary-500)';
        this.style.color = 'white';
        this.style.borderColor = 'var(--color-primary-500)';
        this.classList.add('active');
        
        const filter = this.dataset.filter;
        const budget = parseInt(document.getElementById('iter4Budget').value);
        renderIter4Performers(filter, budget);
        console.log('[Iteration 4] Filter changed:', filter);
    });
});

// Budget slider for iteration 4
const iter4Budget = document.getElementById('iter4Budget');
const iter4Display = document.getElementById('iter4BudgetDisplay');
if (iter4Budget) {
    iter4Budget.addEventListener('input', function() {
        const value = parseInt(this.value);
        iter4Display.textContent = value.toLocaleString('hu-HU') + ' Ft';
        
        const activeFilter = document.querySelector('.iter4-pill.active')?.dataset.filter || 'all';
        renderIter4Performers(activeFilter, value);
    });
}

// Date and city inputs
document.getElementById('iter4Date')?.addEventListener('change', function() {
    console.log('[Iteration 4] Date changed:', this.value);
});

document.getElementById('iter4City')?.addEventListener('input', function() {
    console.log('[Iteration 4] City changed:', this.value);
});

// ============================================
// ITERATION 5 - Micro-commit
// ============================================
document.getElementById('iter5SaveBtn')?.addEventListener('click', function() {
    const email = document.getElementById('iter5Email').value;
    
    if (email && email.includes('@')) {
        // Save to localStorage
        localStorage.setItem('koncert24_saved_search', JSON.stringify({
            email: email,
            timestamp: new Date().toISOString()
        }));
        
        // Show success
        document.getElementById('iter5Success').style.display = 'block';
        document.getElementById('iter5Email').disabled = true;
        this.disabled = true;
        this.style.opacity = '0.6';
        
        console.log('[Iteration 5] Saved for later:', email);
    } else {
        alert('K√©rlek, adj meg egy √©rv√©nyes email c√≠met!');
    }
});

// ============================================
// ITERATION 6 - Adaptive Solution
// ============================================
const iter6Modes = {
    quick: {
        title: '‚ö° Gyors keres√©s',
        content: `
            <h3 style="font-size: var(--text-2xl); font-weight: 700; margin-bottom: var(--space-6);">Add meg az alapadatokat</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-4); margin-bottom: var(--space-6);">
                <input type="text" placeholder="El≈ëad√≥ neve" id="iter6QuickName" style="padding: var(--space-4); border: 2px solid var(--border-base); border-radius: var(--radius-lg); font-size: var(--text-base);">
                <input type="date" id="iter6QuickDate" style="padding: var(--space-4); border: 2px solid var(--border-base); border-radius: var(--radius-lg); font-size: var(--text-base);">
            </div>
            <button class="iter6-submit" style="width: 100%; padding: var(--space-4); background: var(--color-primary-500); color: white; border: none; border-radius: var(--radius-lg); font-weight: 700; font-size: var(--text-lg); cursor: pointer;">
                Keres√©s ind√≠t√°sa
            </button>
        `
    },
    guided: {
        title: 'üß≠ Vezetett aj√°nl√°s',
        content: `
            <h3 style="font-size: var(--text-2xl); font-weight: 700; margin-bottom: var(--space-4);">Seg√≠t√ºnk megtal√°lni a t√∂k√©letes el≈ëad√≥t</h3>
            <p style="color: var(--text-secondary); margin-bottom: var(--space-8);">V√°laszolj n√©h√°ny k√©rd√©sre, √©s AI-alap√∫ aj√°nl√°st kapsz</p>
            <div style="display: flex; flex-direction: column; gap: var(--space-5);">
                <div>
                    <label style="font-weight: 600; margin-bottom: var(--space-2); display: block;">Milyen rendezv√©ny?</label>
                    <select id="iter6GuidedType" style="width: 100%; padding: var(--space-3); border: 2px solid var(--border-base); border-radius: var(--radius-lg);">
                        <option>Esk√ºv≈ë</option>
                        <option>C√©ges rendezv√©ny</option>
                        <option>Sz√ºlinap</option>
                        <option>Fesztiv√°l</option>
                    </select>
                </div>
                <div>
                    <label style="font-weight: 600; margin-bottom: var(--space-2); display: block;">H√°ny vend√©g v√°rhat√≥?</label>
                    <input type="number" id="iter6GuidedGuests" placeholder="pl. 100" style="width: 100%; padding: var(--space-3); border: 2px solid var(--border-base); border-radius: var(--radius-lg);">
                </div>
                <button class="iter6-submit" style="width: 100%; padding: var(--space-4); background: var(--color-success-500); color: white; border: none; border-radius: var(--radius-lg); font-weight: 700; font-size: var(--text-lg); cursor: pointer;">
                    Aj√°nl√°s k√©r√©se
                </button>
            </div>
        `
    },
    explore: {
        title: 'üîç Felfedez√©s',
        content: `
            <h3 style="font-size: var(--text-2xl); font-weight: 700; margin-bottom: var(--space-6);">B√∂ng√©ssz az el≈ëad√≥k k√∂z√∂tt</h3>
            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: var(--space-4); margin-bottom: var(--space-6);">
                <button class="iter6-category" data-cat="zenekar" style="padding: var(--space-6); background: var(--bg-subtle); border: 2px solid var(--border-base); border-radius: var(--radius-xl); cursor: pointer; text-align: center;">
                    <div style="font-size: 3rem; margin-bottom: var(--space-2);">üé∏</div>
                    <div style="font-weight: 600;">Zenekarok</div>
                </button>
                <button class="iter6-category" data-cat="dj" style="padding: var(--space-6); background: var(--bg-subtle); border: 2px solid var(--border-base); border-radius: var(--radius-xl); cursor: pointer; text-align: center;">
                    <div style="font-size: 3rem; margin-bottom: var(--space-2);">üéß</div>
                    <div style="font-weight: 600;">DJ-k</div>
                </button>
                <button class="iter6-category" data-cat="tancosok" style="padding: var(--space-6); background: var(--bg-subtle); border: 2px solid var(--border-base); border-radius: var(--radius-xl); cursor: pointer; text-align: center;">
                    <div style="font-size: 3rem; margin-bottom: var(--space-2);">üíÉ</div>
                    <div style="font-weight: 600;">T√°ncosok</div>
                </button>
            </div>
        `
    }
};

document.querySelectorAll('.iter6-mode').forEach(btn => {
    btn.addEventListener('click', function() {
        document.querySelectorAll('.iter6-mode').forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        
        const mode = this.dataset.mode;
        const content = document.getElementById('iter6Content');
        
        content.innerHTML = iter6Modes[mode].content;
        
        // Show preview with delay
        setTimeout(() => {
            showIter6Preview();
        }, 500);
        
        // Re-attach event listeners
        const submitBtn = content.querySelector('.iter6-submit');
        if (submitBtn) {
            submitBtn.addEventListener('click', () => {
                console.log('[Iteration 6] Submit clicked for mode:', mode);
            });
        }
        
        // Category buttons for explore mode
        content.querySelectorAll('.iter6-category').forEach(cat => {
            cat.addEventListener('click', function() {
                console.log('[Iteration 6] Category clicked:', this.dataset.cat);
            });
        });
        
        console.log('[Iteration 6] Adaptive selector interaction - mode:', mode);
    });
});

function showIter6Preview() {
    const preview = document.getElementById('iter6Preview');
    const cardsContainer = document.getElementById('iter6PreviewCards');
    
    const samplePerformers = [
        { name: 'Premium Band', img: 'üé∏', type: 'Zenekar' },
        { name: 'DJ Mix Pro', img: 'üéß', type: 'DJ' },
        { name: 'Show Dancers', img: 'üíÉ', type: 'T√°ncosok' }
    ];
    
    cardsContainer.innerHTML = samplePerformers.map(p => `
        <div style="padding: var(--space-5); background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-lg); text-align: center; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
            <div style="font-size: 3rem; margin-bottom: var(--space-2);">${p.img}</div>
            <div style="font-weight: 700; margin-bottom: var(--space-1);">${p.name}</div>
            <div style="font-size: var(--text-sm); color: var(--text-secondary);">${p.type}</div>
        </div>
    `).join('');
    
    document.getElementById('iter6PreviewCount').textContent = samplePerformers.length;
    preview.style.display = 'block';
    setTimeout(() => preview.style.opacity = '1', 100);
}

// Save for later
document.getElementById('iter6SaveForLater')?.addEventListener('click', function() {
    console.log('[Iteration 6] Save for later clicked');
    alert('Keres√©s elmentve! Eml√©keztet≈ët k√ºld√ºnk k√©s≈ëbb.');
});

// Mobile CTA
document.getElementById('iter6MobileCTA')?.addEventListener('click', function() {
    console.log('[Iteration 6] Mobile CTA - Request quote');
});

document.getElementById('iter6MobileSave')?.addEventListener('click', function() {
    console.log('[Iteration 6] Mobile save clicked');
});

// Show sticky CTA on scroll (mobile only)
if (window.innerWidth <= 768) {
    window.addEventListener('scroll', function() {
        const iter6 = document.getElementById('iteration6');
        const stickyCTA = document.getElementById('iter6StickyCTA');
        if (iter6 && stickyCTA) {
            const rect = iter6.getBoundingClientRect();
            if (rect.top < window.innerHeight && rect.bottom > 0) {
                stickyCTA.style.display = 'block';
            } else {
                stickyCTA.style.display = 'none';
            }
        }
    });
}

// Close DOMContentLoaded wrapper for Iterations 1-6
});

console.log('‚úÖ UX Prototype Gallery - All 6 iterations initialized');

</script>

<!-- ============================================
     ITER√ÅCI√ì 7 - Sz√°nd√©k-alap√∫ bel√©p√©s
     ============================================ -->
<section class="iteration-section" id="iteration7" style="background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-2xl); padding: var(--space-12); margin: var(--space-16) auto; max-width: 1200px;">
    <h2 style="font-size: var(--text-3xl); font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-4); display: flex; align-items: center; gap: var(--space-3);">
        <span style="background: var(--color-primary-500); color: white; width: 48px; height: 48px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 800;">7</span>
        Iter√°ci√≥ 7 ‚Äì Sz√°nd√©k-alap√∫ bel√©p√©s
    </h2>
    <p style="font-size: var(--text-base); color: var(--text-secondary); margin-bottom: var(--space-10); max-width: 700px;">
        <strong>Tesztel√©s c√©lja:</strong> Intent-first megk√∂zel√≠t√©s ‚Äì el≈ësz√∂r azonos√≠tjuk a felhaszn√°l√≥ sz√°nd√©k√°t, majd relev√°ns short-form jelenik meg.
    </p>

    <div style="max-width: 800px; margin: 0 auto;">
        <h3 style="font-size: var(--text-2xl); font-weight: 600; text-align: center; color: var(--text-primary); margin-bottom: var(--space-8);">
            Mit szeretn√©l tenni?
        </h3>

        <div role="radiogroup" aria-label="V√°lassz sz√°nd√©kot" style="display: flex; gap: var(--space-4); margin-bottom: var(--space-10); flex-wrap: wrap; justify-content: center;">
            <button 
                class="iter7-intent-btn" 
                data-intent="booking"
                role="radio"
                aria-checked="false"
                tabindex="0"
                style="flex: 1; min-width: 200px; padding: var(--space-6); background: var(--bg-surface); border: 3px solid var(--border-base); border-radius: var(--radius-2xl); cursor: pointer; transition: all 0.3s; text-align: center;"
            >
                <div style="font-size: 3rem; margin-bottom: var(--space-3);">‚ö°</div>
                <div style="font-size: var(--text-lg); font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-2);">Foglal√°s most</div>
                <div style="font-size: var(--text-sm); color: var(--text-secondary);">Tudom, mit akarok</div>
            </button>

            <button 
                class="iter7-intent-btn" 
                data-intent="quote"
                role="radio"
                aria-checked="false"
                tabindex="0"
                style="flex: 1; min-width: 200px; padding: var(--space-6); background: var(--bg-surface); border: 3px solid var(--border-base); border-radius: var(--radius-2xl); cursor: pointer; transition: all 0.3s; text-align: center;"
            >
                <div style="font-size: 3rem; margin-bottom: var(--space-3);">üìã</div>
                <div style="font-size: var(--text-lg); font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-2);">Aj√°nlatot k√©rek</div>
                <div style="font-size: var(--text-sm); color: var(--text-secondary);">Seg√≠ts√©g kell a v√°laszt√°sban</div>
            </button>

            <button 
                class="iter7-intent-btn" 
                data-intent="browse"
                role="radio"
                aria-checked="false"
                tabindex="0"
                style="flex: 1; min-width: 200px; padding: var(--space-6); background: var(--bg-surface); border: 3px solid var(--border-base); border-radius: var(--radius-2xl); cursor: pointer; transition: all 0.3s; text-align: center;"
            >
                <div style="font-size: 3rem; margin-bottom: var(--space-3);">üîç</div>
                <div style="font-size: var(--text-lg); font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-2);">B√∂ng√©szek</div>
                <div style="font-size: var(--text-sm); color: var(--text-secondary);">Csak k√∂r√ºln√©zek</div>
            </button>
        </div>

        <!-- Dynamic forms container -->
        <div id="iter7FormsContainer" style="display: none; opacity: 0; transition: opacity 0.5s;">
            <!-- Booking form -->
            <div id="iter7BookingForm" class="iter7-form" style="display: none; background: linear-gradient(135deg, rgba(59, 130, 246, 0.05), transparent); border: 2px solid rgba(59, 130, 246, 0.2); border-radius: var(--radius-xl); padding: var(--space-8);">
                <h4 style="font-size: var(--text-xl); font-weight: 600; margin-bottom: var(--space-6);">‚ö° Gyors foglal√°s</h4>
                <div style="display: flex; flex-direction: column; gap: var(--space-4);">
                    <input type="date" id="iter7BookingDate" aria-label="Rendezv√©ny d√°tuma" style="padding: var(--space-3); border: 2px solid var(--border-base); border-radius: var(--radius-lg); font-size: var(--text-base);">
                    <input type="text" id="iter7BookingCity" placeholder="Telep√ºl√©s" aria-label="Telep√ºl√©s" style="padding: var(--space-3); border: 2px solid var(--border-base); border-radius: var(--radius-lg); font-size: var(--text-base);">
                    <input type="email" id="iter7BookingEmail" placeholder="Email c√≠m" aria-label="Email" style="padding: var(--space-3); border: 2px solid var(--border-base); border-radius: var(--radius-lg); font-size: var(--text-base);">
                    <button class="iter7-submit" data-type="booking" style="padding: var(--space-4); background: var(--color-primary-500); color: white; border: none; border-radius: var(--radius-lg); font-weight: 600; cursor: pointer;">Foglal√°s ind√≠t√°sa</button>
                </div>
            </div>

            <!-- Quote form -->
            <div id="iter7QuoteForm" class="iter7-form" style="display: none; background: linear-gradient(135deg, rgba(16, 185, 129, 0.05), transparent); border: 2px solid rgba(16, 185, 129, 0.2); border-radius: var(--radius-xl); padding: var(--space-8);">
                <h4 style="font-size: var(--text-xl); font-weight: 600; margin-bottom: var(--space-6);">üìã Aj√°nlatk√©r√©s</h4>
                <div style="display: flex; flex-direction: column; gap: var(--space-4);">
                    <input type="date" id="iter7QuoteDate" aria-label="Rendezv√©ny d√°tuma" style="padding: var(--space-3); border: 2px solid var(--border-base); border-radius: var(--radius-lg); font-size: var(--text-base);">
                    <select id="iter7QuoteType" aria-label="M≈±sor t√≠pusa" style="padding: var(--space-3); border: 2px solid var(--border-base); border-radius: var(--radius-lg); font-size: var(--text-base);">
                        <option value="">M≈±sor t√≠pusa</option>
                        <option value="zenekar">Zenekar</option>
                        <option value="dj">DJ</option>
                        <option value="tancosok">T√°ncosok</option>
                    </select>
                    <input type="number" id="iter7QuoteGuests" placeholder="V√°rhat√≥ vend√©gsz√°m" aria-label="Vend√©gsz√°m" style="padding: var(--space-3); border: 2px solid var(--border-base); border-radius: var(--radius-lg); font-size: var(--text-base);">
                    <button class="iter7-submit" data-type="quote" style="padding: var(--space-4); background: var(--color-success-500); color: white; border: none; border-radius: var(--radius-lg); font-weight: 600; cursor: pointer;">Aj√°nlat k√©r√©se</button>
                </div>
            </div>

            <!-- Browse redirect -->
            <div id="iter7BrowseForm" class="iter7-form" style="display: none; background: linear-gradient(135deg, rgba(245, 158, 11, 0.05), transparent); border: 2px solid rgba(245, 158, 11, 0.2); border-radius: var(--radius-xl); padding: var(--space-8); text-align: center;">
                <h4 style="font-size: var(--text-xl); font-weight: 600; margin-bottom: var(--space-4);">üîç B√∂ng√©sz√©s</h4>
                <p style="color: var(--text-secondary); margin-bottom: var(--space-6);">N√©zd √°t kateg√≥ri√°k szerint az el≈ëad√≥inkat</p>
                <a href="/kategoriak" style="display: inline-block; padding: var(--space-4) var(--space-8); background: var(--color-warning-500); color: white; text-decoration: none; border-radius: var(--radius-lg); font-weight: 600;">Kateg√≥ri√°k megtekint√©se</a>
            </div>
        </div>
    </div>

    <style>
        .iter7-intent-btn:hover { transform: scale(1.05); border-color: var(--color-primary-500); }
        .iter7-intent-btn[aria-checked="true"] { background: var(--color-primary-500); color: white; border-color: var(--color-primary-500); }
        .iter7-intent-btn[aria-checked="true"] > div { color: white; }
        .iter7-submit:hover { opacity: 0.9; transform: translateY(-2px); }
        @media (max-width: 768px) {
            .iter7-intent-btn { min-width: 100%; }
        }
    </style>
</section>

<!-- ============================================
     ITER√ÅCI√ì 8 - Azonnali √∂sszefoglal√≥
     ============================================ -->
<section class="iteration-section" id="iteration8" style="background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-2xl); padding: var(--space-12); margin: var(--space-16) auto; max-width: 1200px;">
    <h2 style="font-size: var(--text-3xl); font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-4); display: flex; align-items: center; gap: var(--space-3);">
        <span style="background: var(--color-success-500); color: white; width: 48px; height: 48px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 800;">8</span>
        Iter√°ci√≥ 8 ‚Äì Azonnali √∂sszefoglal√≥
    </h2>
    <p style="font-size: var(--text-base); color: var(--text-secondary); margin-bottom: var(--space-10); max-width: 700px;">
        <strong>Tesztel√©s c√©lja:</strong> Micro-summary megjelen√≠t√©se v√°laszt√°s ut√°n ‚Äì vil√°gos elv√°r√°skezel√©s, √°tl√°that√≥ k√∂vetkez≈ë l√©p√©s.
    </p>

    <div style="max-width: 800px; margin: 0 auto;">
        <h3 style="font-size: var(--text-2xl); font-weight: 600; text-align: center; color: var(--text-primary); margin-bottom: var(--space-8);">
            Mit szeretn√©l tenni?
        </h3>

        <div role="radiogroup" aria-label="V√°lassz sz√°nd√©kot" style="display: flex; gap: var(--space-4); margin-bottom: var(--space-10); flex-wrap: wrap; justify-content: center;">
            <button 
                class="iter8-intent-btn" 
                data-intent="booking"
                role="radio"
                aria-checked="false"
                tabindex="0"
                style="flex: 1; min-width: 200px; padding: var(--space-6); background: var(--bg-surface); border: 3px solid var(--border-base); border-radius: var(--radius-2xl); cursor: pointer; transition: all 0.3s; text-align: center;"
            >
                <div style="font-size: 3rem; margin-bottom: var(--space-3);">‚ö°</div>
                <div style="font-size: var(--text-lg); font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-2);">Foglal√°s most</div>
                <div style="font-size: var(--text-sm); color: var(--text-secondary);">Azonnali visszaigazol√°s</div>
            </button>

            <button 
                class="iter8-intent-btn" 
                data-intent="quote"
                role="radio"
                aria-checked="false"
                tabindex="0"
                style="flex: 1; min-width: 200px; padding: var(--space-6); background: var(--bg-surface); border: 3px solid var(--border-base); border-radius: var(--radius-2xl); cursor: pointer; transition: all 0.3s; text-align: center;"
            >
                <div style="font-size: 3rem; margin-bottom: var(--space-3);">üìã</div>
                <div style="font-size: var(--text-lg); font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-2);">Aj√°nlatot k√©rek</div>
                <div style="font-size: var(--text-sm); color: var(--text-secondary);">Szem√©lyre szabott √°raj√°nlat</div>
            </button>

            <button 
                class="iter8-intent-btn" 
                data-intent="browse"
                role="radio"
                aria-checked="false"
                tabindex="0"
                style="flex: 1; min-width: 200px; padding: var(--space-6); background: var(--bg-surface); border: 3px solid var(--border-base); border-radius: var(--radius-2xl); cursor: pointer; transition: all 0.3s; text-align: center;"
            >
                <div style="font-size: 3rem; margin-bottom: var(--space-3);">üîç</div>
                <div style="font-size: var(--text-lg); font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-2);">B√∂ng√©szek</div>
                <div style="font-size: var(--text-sm); color: var(--text-secondary);">500+ el≈ëad√≥ k√≠n√°lat</div>
            </button>
        </div>

        <!-- Summary card -->
        <div id="iter8SummaryCard" style="display: none; opacity: 0; transition: opacity 0.5s; background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(59, 130, 246, 0.05)); border: 2px solid rgba(99, 102, 241, 0.3); border-radius: var(--radius-2xl); padding: var(--space-8); margin-bottom: var(--space-8);">
            <div style="display: flex; gap: var(--space-6); align-items: start;">
                <div id="iter8SummaryIcon" style="font-size: 4rem; flex-shrink: 0;">‚ö°</div>
                <div style="flex: 1;">
                    <h4 id="iter8SummaryTitle" style="font-size: var(--text-xl); font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-3);">Foglal√°s most</h4>
                    <p id="iter8SummaryDesc" style="font-size: var(--text-base); color: var(--text-secondary); margin-bottom: var(--space-4); line-height: 1.6;"></p>
                    <div style="display: flex; gap: var(--space-6); margin-bottom: var(--space-6);">
                        <div>
                            <div style="font-size: var(--text-sm); color: var(--text-tertiary); margin-bottom: var(--space-1);">V√°laszid≈ë</div>
                            <div id="iter8ResponseTime" style="font-size: var(--text-base); font-weight: 600; color: var(--text-primary);">Azonnali</div>
                        </div>
                        <div>
                            <div style="font-size: var(--text-sm); color: var(--text-tertiary); margin-bottom: var(--space-1);">F≈ë el≈ëny</div>
                            <div id="iter8MainBenefit" style="font-size: var(--text-base); font-weight: 600; color: var(--color-success-500);">Gyors lefoglal√°s</div>
                        </div>
                    </div>
                    <button id="iter8ContinueBtn" style="padding: var(--space-3) var(--space-6); background: var(--color-primary-500); color: white; border: none; border-radius: var(--radius-lg); font-weight: 600; cursor: pointer; transition: all 0.2s;">
                        Tov√°bb ‚Üí
                    </button>
                </div>
            </div>
        </div>

        <!-- Form container (same as iter7) -->
        <div id="iter8FormsContainer" style="display: none; opacity: 0; transition: opacity 0.5s;">
            <!-- Forms same structure as iter7 -->
        </div>
    </div>

    <style>
        .iter8-intent-btn:hover { transform: scale(1.05); border-color: var(--color-primary-500); }
        .iter8-intent-btn[aria-checked="true"] { background: var(--color-primary-500); color: white; border-color: var(--color-primary-500); }
        .iter8-intent-btn[aria-checked="true"] > div { color: white; }
        #iter8ContinueBtn:hover { opacity: 0.9; transform: translateY(-2px); }
        @media (max-width: 768px) {
            .iter8-intent-btn { min-width: 100%; }
            #iter8SummaryCard > div { flex-direction: column; }
        }
    </style>
</section>

<!-- ============================================
     ITER√ÅCI√ì 9 - Bizony√≠t√©k a d√∂nt√©s m√∂g√∂tt
     ============================================ -->
<section class="iteration-section" id="iteration9" style="background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-2xl); padding: var(--space-12); margin: var(--space-16) auto; max-width: 1200px;">
    <h2 style="font-size: var(--text-3xl); font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-4); display: flex; align-items: center; gap: var(--space-3);">
        <span style="background: var(--color-warning-500); color: white; width: 48px; height: 48px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 800;">9</span>
        Iter√°ci√≥ 9 ‚Äì Bizony√≠t√©k a d√∂nt√©s m√∂g√∂tt
    </h2>
    <p style="font-size: var(--text-base); color: var(--text-secondary); margin-bottom: var(--space-10); max-width: 700px;">
        <strong>Tesztel√©s c√©lja:</strong> Social proof √©s kontextu√°lis bizony√≠t√©kok megjelen√≠t√©se a v√°laszt√°s ut√°n ‚Äì n√∂veli a bizalmat √©s konverzi√≥t.
    </p>

    <div style="max-width: 900px; margin: 0 auto;">
        <h3 style="font-size: var(--text-2xl); font-weight: 600; text-align: center; color: var(--text-primary); margin-bottom: var(--space-8);">
            V√°lassz sz√°nd√©kot
        </h3>

        <div role="radiogroup" style="display: flex; gap: var(--space-4); margin-bottom: var(--space-10); flex-wrap: wrap; justify-content: center;">
            <button class="iter9-intent-btn" data-intent="booking" role="radio" aria-checked="false" tabindex="0" style="flex: 1; min-width: 180px; padding: var(--space-5); background: var(--bg-surface); border: 3px solid var(--border-base); border-radius: var(--radius-xl); cursor: pointer; transition: all 0.3s; text-align: center;">
                <div style="font-size: 2.5rem; margin-bottom: var(--space-2);">‚ö°</div>
                <div style="font-size: var(--text-base); font-weight: 700;">Foglal√°s</div>
            </button>
            <button class="iter9-intent-btn" data-intent="quote" role="radio" aria-checked="false" tabindex="0" style="flex: 1; min-width: 180px; padding: var(--space-5); background: var(--bg-surface); border: 3px solid var(--border-base); border-radius: var(--radius-xl); cursor: pointer; transition: all 0.3s; text-align: center;">
                <div style="font-size: 2.5rem; margin-bottom: var(--space-2);">üìã</div>
                <div style="font-size: var(--text-base); font-weight: 700;">Aj√°nlat</div>
            </button>
        </div>

        <!-- Summary + Social Proof -->
        <div id="iter9ProofContainer" style="display: none; opacity: 0; transition: opacity 0.5s;">
            <div style="display: grid; grid-template-columns: 2fr 1fr; gap: var(--space-6); margin-bottom: var(--space-8);">
                <!-- Left: Summary -->
                <div style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), transparent); border: 2px solid rgba(16, 185, 129, 0.3); border-radius: var(--radius-xl); padding: var(--space-8);">
                    <h4 style="font-size: var(--text-xl); font-weight: 700; margin-bottom: var(--space-4);">üìã Szem√©lyre szabott aj√°nlat</h4>
                    <p style="color: var(--text-secondary); margin-bottom: var(--space-6); line-height: 1.6;">
                        Add meg n√©h√°ny alapadatot, √©s 24 √≥r√°n bel√ºl r√©szletes √°raj√°nlatot k√ºld√ºnk a legmegfelel≈ëbb el≈ëad√≥kkal.
                    </p>
                    
                    <!-- Simple form -->
                    <div style="display: flex; flex-direction: column; gap: var(--space-3); margin-bottom: var(--space-4);">
                        <input type="text" id="iter9City" placeholder="Telep√ºl√©s (pl. Budapest)" aria-label="Telep√ºl√©s" style="padding: var(--space-3); border: 2px solid var(--border-base); border-radius: var(--radius-lg);">
                        <input type="date" id="iter9Date" aria-label="D√°tum" style="padding: var(--space-3); border: 2px solid var(--border-base); border-radius: var(--radius-lg);">
                        <input type="email" id="iter9Email" placeholder="Email" aria-label="Email" style="padding: var(--space-3); border: 2px solid var(--border-base); border-radius: var(--radius-lg);">
                    </div>
                    
                    <button id="iter9SubmitBtn" style="width: 100%; padding: var(--space-4); background: var(--color-success-500); color: white; border: none; border-radius: var(--radius-lg); font-weight: 700; cursor: pointer;">
                        <!-- TODO: POST /api/leads -->
                        K√©rem az aj√°nlatot
                    </button>
                </div>

                <!-- Right: Social Proof -->
                <div style="display: flex; flex-direction: column; gap: var(--space-4);">
                    <!-- Testimonial -->
                    <div id="iter9Testimonial" style="background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-xl); padding: var(--space-6);">
                        <div style="font-size: 2rem; margin-bottom: var(--space-3);">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                        <p id="iter9TestimonialText" style="font-size: var(--text-sm); color: var(--text-secondary); margin-bottom: var(--space-3); line-height: 1.5; font-style: italic;">
                            "Budapesten remek el≈ëad√≥kat tal√°ltunk, 48 √≥r√°n bel√ºl megvolt a t√∂k√©letes zenekar!"
                        </p>
                        <div style="font-size: var(--text-sm); font-weight: 600; color: var(--text-primary);">‚Äì Kov√°cs √âva, 2024</div>
                    </div>

                    <!-- Partner logo -->
                    <div style="background: var(--bg-subtle); border: 2px solid var(--border-base); border-radius: var(--radius-xl); padding: var(--space-6); text-align: center;">
                        <div style="font-size: var(--text-xs); color: var(--text-tertiary); margin-bottom: var(--space-2);">Megb√≠zhat√≥ partner</div>
                        <div style="font-size: 2rem; font-weight: 700; color: var(--text-primary);">üèÜ Koncert24</div>
                        <div style="font-size: var(--text-xs); color: var(--text-tertiary); margin-top: var(--space-2);">500+ sikeres rendezv√©ny</div>
                    </div>
                </div>
            </div>

            <div id="iter9SuccessMsg" style="display: none; padding: var(--space-4); background: rgba(16, 185, 129, 0.1); border-radius: var(--radius-lg); text-align: center;">
                <p style="font-size: var(--text-base); color: var(--color-success-700); font-weight: 600; margin: 0;">
                    ‚úÖ K√∂sz√∂nj√ºk! Aj√°nlatot k√ºld√ºnk 24 √≥r√°n bel√ºl.
                </p>
            </div>
        </div>
    </div>

    <style>
        .iter9-intent-btn:hover { transform: scale(1.05); border-color: var(--color-primary-500); }
        .iter9-intent-btn[aria-checked="true"] { background: var(--color-primary-500); color: white; }
        #iter9SubmitBtn:hover { opacity: 0.9; transform: translateY(-2px); }
        @media (max-width: 968px) {
            #iter9ProofContainer > div { grid-template-columns: 1fr; }
        }
    </style>
</section>

<!-- ============================================
     ITER√ÅCI√ì 10 - Okos valid√°ci√≥
     ============================================ -->
<section class="iteration-section" id="iteration10" style="background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-2xl); padding: var(--space-12); margin: var(--space-16) auto; max-width: 1200px;">
    <h2 style="font-size: var(--text-3xl); font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-4); display: flex; align-items: center; gap: var(--space-3);">
        <span style="background: var(--color-error-500); color: white; width: 48px; height: 48px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 800;">10</span>
        Iter√°ci√≥ 10 ‚Äì Okos valid√°ci√≥
    </h2>
    <p style="font-size: var(--text-base); color: var(--text-secondary); margin-bottom: var(--space-10); max-width: 700px;">
        <strong>Tesztel√©s c√©lja:</strong> Inline valid√°ci√≥ auto-jav√≠t√°si lehet≈ës√©gekkel ‚Äì friction cs√∂kkent√©s, felhaszn√°l√≥bar√°t hiba√ºzenetek.
    </p>

    <div style="max-width: 600px; margin: 0 auto; background: linear-gradient(135deg, rgba(139, 92, 246, 0.05), transparent); border: 2px solid rgba(139, 92, 246, 0.2); border-radius: var(--radius-2xl); padding: var(--space-10);">
        <h3 style="font-size: var(--text-2xl); font-weight: 700; text-align: center; margin-bottom: var(--space-8);">
            üß† Intelligens ≈±rlap
        </h3>

        <form id="iter10Form" style="display: flex; flex-direction: column; gap: var(--space-5);">
            <!-- Phone field -->
            <div>
                <label for="iter10Phone" style="display: block; font-weight: 600; margin-bottom: var(--space-2); color: var(--text-primary);">
                    Telefonsz√°m
                </label>
                <div style="position: relative;">
                    <input 
                        type="tel" 
                        id="iter10Phone" 
                        placeholder="pl. 301234567"
                        aria-describedby="iter10PhoneError"
                        style="width: 100%; padding: var(--space-3); border: 2px solid var(--border-base); border-radius: var(--radius-lg); font-size: var(--text-base); transition: border-color 0.2s;"
                    >
                    <button 
                        type="button"
                        id="iter10PhoneFix" 
                        style="display: none; position: absolute; right: 8px; top: 50%; transform: translateY(-50%); padding: var(--space-2) var(--space-3); background: var(--color-primary-500); color: white; border: none; border-radius: var(--radius-md); font-size: var(--text-xs); font-weight: 600; cursor: pointer;"
                    >
                        +36 hozz√°ad√°sa
                    </button>
                </div>
                <p id="iter10PhoneError" role="alert" style="display: none; font-size: var(--text-sm); color: var(--color-error-500); margin-top: var(--space-2);"></p>
                <p id="iter10PhoneSuccess" style="display: none; font-size: var(--text-sm); color: var(--color-success-500); margin-top: var(--space-2);">‚úì Form√°tum rendben</p>
            </div>

            <!-- Email field -->
            <div>
                <label for="iter10Email" style="display: block; font-weight: 600; margin-bottom: var(--space-2); color: var(--text-primary);">
                    Email c√≠m
                </label>
                <input 
                    type="email" 
                    id="iter10Email" 
                    placeholder="pelda@email.hu"
                    aria-describedby="iter10EmailError"
                    style="width: 100%; padding: var(--space-3); border: 2px solid var(--border-base); border-radius: var(--radius-lg); font-size: var(--text-base); transition: border-color 0.2s;"
                >
                <p id="iter10EmailError" role="alert" style="display: none; font-size: var(--text-sm); color: var(--color-error-500); margin-top: var(--space-2);"></p>
                <p id="iter10EmailSuccess" style="display: none; font-size: var(--text-sm); color: var(--color-success-500); margin-top: var(--space-2);">‚úì Email form√°tum helyes</p>
            </div>

            <!-- Date field -->
            <div>
                <label for="iter10Date" style="display: block; font-weight: 600; margin-bottom: var(--space-2); color: var(--text-primary);">
                    Rendezv√©ny d√°tuma
                </label>
                <input 
                    type="date" 
                    id="iter10Date"
                    aria-describedby="iter10DateError iter10DateSuggestion"
                    style="width: 100%; padding: var(--space-3); border: 2px solid var(--border-base); border-radius: var(--radius-lg); font-size: var(--text-base); transition: border-color 0.2s;"
                >
                <p id="iter10DateError" role="alert" style="display: none; font-size: var(--text-sm); color: var(--color-error-500); margin-top: var(--space-2);"></p>
                <div id="iter10DateSuggestion" style="display: none; margin-top: var(--space-3); padding: var(--space-3); background: rgba(59, 130, 246, 0.1); border-radius: var(--radius-lg);">
                    <p style="font-size: var(--text-sm); color: var(--text-secondary); margin-bottom: var(--space-2);">
                        üí° Javasolt k√∂zeli d√°tum:
                    </p>
                    <button type="button" id="iter10DateFixBtn" style="padding: var(--space-2) var(--space-4); background: var(--color-primary-500); color: white; border: none; border-radius: var(--radius-md); font-size: var(--text-sm); font-weight: 600; cursor: pointer;">
                        Haszn√°lom ezt a d√°tumot
                    </button>
                </div>
                <p id="iter10DateSuccess" style="display: none; font-size: var(--text-sm); color: var(--color-success-500); margin-top: var(--space-2);">‚úì D√°tum el√©rhet≈ë</p>
            </div>

            <button type="submit" style="padding: var(--space-4); background: var(--color-primary-500); color: white; border: none; border-radius: var(--radius-lg); font-weight: 700; font-size: var(--text-lg); cursor: pointer; margin-top: var(--space-4);">
                K√ºld√©s
            </button>
        </form>

        <div id="iter10FormSuccess" style="display: none; margin-top: var(--space-6); padding: var(--space-6); background: rgba(16, 185, 129, 0.1); border-radius: var(--radius-xl); text-align: center;">
            <div style="font-size: 3rem; margin-bottom: var(--space-3);">‚úÖ</div>
            <p style="font-size: var(--text-lg); font-weight: 600; color: var(--color-success-700);">Sikeres valid√°ci√≥!</p>
        </div>
    </div>

    <style>
        #iter10Form input:focus { border-color: var(--color-primary-500); outline: none; box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1); }
        #iter10Form input.error { border-color: var(--color-error-500); }
        #iter10Form input.success { border-color: var(--color-success-500); }
        #iter10PhoneFix:hover, #iter10DateFixBtn:hover { opacity: 0.9; }
    </style>
</section>

<!-- ============================================
     ITER√ÅCI√ì 11 - Gyors A/B √©s vari√°ns tracking
     ============================================ -->
<section class="iteration-section" id="iteration11" style="background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-2xl); padding: var(--space-12); margin: var(--space-16) auto; max-width: 1200px;">
    <h2 style="font-size: var(--text-3xl); font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-4); display: flex; align-items: center; gap: var(--space-3);">
        <span style="background: var(--color-info-500); color: white; width: 48px; height: 48px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 800;">11</span>
        Iter√°ci√≥ 11 ‚Äì Gyors A/B √©s vari√°ns tracking
    </h2>
    <p style="font-size: var(--text-base); color: var(--text-secondary); margin-bottom: var(--space-10); max-width: 700px;">
        <strong>Tesztel√©s c√©lja:</strong> Developer-friendly variant switcher √©s tracking ‚Äì minden interakci√≥ napl√≥zva variant label-lel.
    </p>

    <div style="max-width: 900px; margin: 0 auto;">
        <!-- Variant switcher (dev tool) -->
        <div style="background: var(--bg-subtle); border: 2px dashed var(--border-base); border-radius: var(--radius-xl); padding: var(--space-6); margin-bottom: var(--space-10);">
            <div style="display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: var(--space-4);">
                <div>
                    <span style="font-size: var(--text-sm); color: var(--text-tertiary); font-family: monospace;">üîß DEV TOOL</span>
                    <h4 style="font-size: var(--text-lg); font-weight: 600; color: var(--text-primary); margin-top: var(--space-2);">
                        Akt√≠v vari√°ns: <span id="iter11CurrentVariant" style="color: var(--color-primary-500);">adaptive</span>
                    </h4>
                </div>
                <div style="display: flex; gap: var(--space-3);">
                    <button class="iter11-variant-btn" data-variant="adaptive" style="padding: var(--space-2) var(--space-4); background: var(--color-primary-500); color: white; border: none; border-radius: var(--radius-md); font-size: var(--text-sm); font-weight: 600; cursor: pointer;">
                        adaptive
                    </button>
                    <button class="iter11-variant-btn" data-variant="simple" style="padding: var(--space-2) var(--space-4); background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-md); font-size: var(--text-sm); font-weight: 600; cursor: pointer;">
                        simple
                    </button>
                    <button class="iter11-variant-btn" data-variant="chat" style="padding: var(--space-2) var(--space-4); background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-md); font-size: var(--text-sm); font-weight: 600; cursor: pointer;">
                        chat
                    </button>
                </div>
            </div>
        </div>

        <!-- Demo interaction area -->
        <div id="iter11DemoArea" style="background: linear-gradient(135deg, rgba(99, 102, 241, 0.05), transparent); border: 2px solid rgba(99, 102, 241, 0.2); border-radius: var(--radius-2xl); padding: var(--space-10);">
            <!-- Dynamic content based on variant -->
            <div id="iter11VariantContent">
                <!-- Will be populated by JavaScript -->
            </div>

            <!-- Event log -->
            <div style="background: rgba(0, 0, 0, 0.05); border-radius: var(--radius-lg); padding: var(--space-4); margin-top: var(--space-8); max-height: 200px; overflow-y: auto; font-family: monospace; font-size: var(--text-sm);">
                <div style="color: var(--text-tertiary); margin-bottom: var(--space-2);">üìä Event log (last 5):</div>
                <div id="iter11EventLog" style="color: var(--text-primary);"></div>
            </div>
        </div>
    </div>

    <style>
        .iter11-variant-btn.active { background: var(--color-primary-500); color: white; border-color: var(--color-primary-500); }
        .iter11-action-btn:hover { transform: scale(1.05); border-color: var(--color-primary-500); }
        @media (max-width: 768px) {
            #iter11VariantContent { grid-template-columns: 1fr !important; }
        }
    </style>
</section>

<!-- ============================================
     ITER√ÅCI√ì 12 - √âles√≠t√©sre k√©sz
     ============================================ -->
<section class="iteration-section" id="iteration12" style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(59, 130, 246, 0.05)); border: 3px solid rgba(16, 185, 129, 0.4); border-radius: var(--radius-2xl); padding: var(--space-12); margin: var(--space-16) auto var(--space-20) auto; max-width: 1200px;">
    <h2 style="font-size: var(--text-4xl); font-weight: 800; color: var(--text-primary); margin-bottom: var(--space-4); display: flex; align-items: center; gap: var(--space-4);">
        <span style="background: linear-gradient(135deg, var(--color-success-500), var(--color-primary-500)); color: white; width: 56px; height: 56px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 800; box-shadow: 0 8px 20px rgba(0,0,0,0.15);">12</span>
        Iter√°ci√≥ 12 ‚Äì √âles√≠t√©sre k√©sz
    </h2>
    <p style="font-size: var(--text-lg); color: var(--text-secondary); margin-bottom: var(--space-12); max-width: 800px; line-height: 1.7;">
        <strong>Tesztel√©s c√©lja:</strong> Production-ready implement√°ci√≥ ‚Äì API integr√°ci√≥ placeholderek, telemetria, error handling, rollback strat√©gia.
    </p>

    <div style="max-width: 900px; margin: 0 auto;">
        <!-- Implementation checklist -->
        <div style="background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-xl); padding: var(--space-8); margin-bottom: var(--space-10);">
            <h3 style="font-size: var(--text-xl); font-weight: 700; margin-bottom: var(--space-6);">
                ‚úÖ Production Checklist
            </h3>
            <ul style="list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; gap: var(--space-3);">
                <li style="display: flex; align-items: center; gap: var(--space-3); padding: var(--space-3); background: var(--bg-subtle); border-radius: var(--radius-lg);">
                    <span style="color: var(--color-success-500); font-size: var(--text-xl);">‚úì</span>
                    <span>API endpoint placeholders (<code style="background: rgba(0,0,0,0.1); padding: 2px 6px; border-radius: 4px;">POST /api/leads</code>)</span>
                </li>
                <li style="display: flex; align-items: center; gap: var(--space-3); padding: var(--space-3); background: var(--bg-subtle); border-radius: var(--radius-lg);">
                    <span style="color: var(--color-success-500); font-size: var(--text-xl);">‚úì</span>
                    <span>localStorage fallback on API failure</span>
                </li>
                <li style="display: flex; align-items: center; gap: var(--space-3); padding: var(--space-3); background: var(--bg-subtle); border-radius: var(--radius-lg);">
                    <span style="color: var(--color-success-500); font-size: var(--text-xl);">‚úì</span>
                    <span>Latency telemetry tracking</span>
                </li>
                <li style="display: flex; align-items: center; gap: var(--space-3); padding: var(--space-3); background: var(--bg-subtle); border-radius: var(--radius-lg);">
                    <span style="color: var(--color-success-500); font-size: var(--text-xl);">‚úì</span>
                    <span>Error logging with context</span>
                </li>
                <li style="display: flex; align-items: center; gap: var(--space-3); padding: var(--space-3); background: var(--bg-subtle); border-radius: var(--radius-lg);">
                    <span style="color: var(--color-warning-500); font-size: var(--text-xl);">‚ö†Ô∏è</span>
                    <span>Feature flag rollback strategy (see comments)</span>
                </li>
            </ul>
        </div>

        <!-- Production form -->
        <div style="background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-2xl); padding: var(--space-10);">
            <h3 style="font-size: var(--text-2xl); font-weight: 700; text-align: center; margin-bottom: var(--space-8);">
                üöÄ Production Lead Form
            </h3>

            <form id="iter12Form" style="display: flex; flex-direction: column; gap: var(--space-5); max-width: 600px; margin: 0 auto;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-4);">
                    <input type="text" id="iter12Name" placeholder="N√©v" required aria-label="N√©v" style="padding: var(--space-3); border: 2px solid var(--border-base); border-radius: var(--radius-lg);">
                    <input type="email" id="iter12Email" placeholder="Email" required aria-label="Email" style="padding: var(--space-3); border: 2px solid var(--border-base); border-radius: var(--radius-lg);">
                </div>
                <input type="tel" id="iter12Phone" placeholder="Telefonsz√°m" required aria-label="Telefon" style="padding: var(--space-3); border: 2px solid var(--border-base); border-radius: var(--radius-lg);">
                <input type="date" id="iter12Date" required aria-label="D√°tum" style="padding: var(--space-3); border: 2px solid var(--border-base); border-radius: var(--radius-lg);">
                <textarea id="iter12Message" placeholder="√úzenet (opcion√°lis)" rows="3" aria-label="√úzenet" style="padding: var(--space-3); border: 2px solid var(--border-base); border-radius: var(--radius-lg); resize: vertical;"></textarea>
                
                <button type="submit" id="iter12SubmitBtn" style="padding: var(--space-4); background: var(--color-success-500); color: white; border: none; border-radius: var(--radius-lg); font-weight: 700; font-size: var(--text-lg); cursor: pointer; transition: all 0.3s;">
                    <!-- TODO: POST /api/leads with CSRF token -->
                    Aj√°nlat k√©r√©se (Production)
                </button>
            </form>

            <!-- Status messages -->
            <div id="iter12Loading" style="display: none; margin-top: var(--space-6); padding: var(--space-4); background: rgba(59, 130, 246, 0.1); border-radius: var(--radius-lg); text-align: center;">
                <div style="font-size: 2rem; margin-bottom: var(--space-2);">‚è≥</div>
                <p style="font-size: var(--text-base); color: var(--text-primary); font-weight: 600; margin: 0;">K√ºld√©s...</p>
            </div>

            <div id="iter12Success" style="display: none; margin-top: var(--space-6); padding: var(--space-6); background: rgba(16, 185, 129, 0.1); border-radius: var(--radius-xl); text-align: center;">
                <div style="font-size: 3rem; margin-bottom: var(--space-3);">‚úÖ</div>
                <p style="font-size: var(--text-xl); font-weight: 700; color: var(--color-success-700); margin-bottom: var(--space-2);">Sikeres bek√ºld√©s!</p>
                <p style="font-size: var(--text-sm); color: var(--text-secondary);">Hamarosan felvessz√ºk √ñnnel a kapcsolatot.</p>
            </div>

            <div id="iter12Error" style="display: none; margin-top: var(--space-6); padding: var(--space-6); background: rgba(239, 68, 68, 0.1); border-radius: var(--radius-xl); text-align: center;">
                <div style="font-size: 3rem; margin-bottom: var(--space-3);">‚ö†Ô∏è</div>
                <p style="font-size: var(--text-lg); font-weight: 700; color: var(--color-error-700); margin-bottom: var(--space-2);">Hiba t√∂rt√©nt</p>
                <p style="font-size: var(--text-sm); color: var(--text-secondary); margin-bottom: var(--space-4);">Az adatok ment√©sre ker√ºltek helyileg. Hamarosan √∫jrapr√≥b√°ljuk.</p>
                <button onclick="document.getElementById('iter12Error').style.display='none'" style="padding: var(--space-2) var(--space-4); background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-md); cursor: pointer;">Bez√°r√°s</button>
            </div>

            <!-- Telemetry display -->
            <div id="iter12Telemetry" style="display: none; margin-top: var(--space-6); padding: var(--space-4); background: rgba(0, 0, 0, 0.05); border-radius: var(--radius-lg); font-family: monospace; font-size: var(--text-sm);">
                <div style="color: var(--text-tertiary); margin-bottom: var(--space-2);">üìä Telemetry:</div>
                <div id="iter12TelemetryData" style="color: var(--text-primary);"></div>
            </div>
        </div>

        <!-- Rollback strategy info -->
        <div style="margin-top: var(--space-10); padding: var(--space-6); background: rgba(245, 158, 11, 0.1); border-left: 4px solid var(--color-warning-500); border-radius: var(--radius-lg);">
            <h4 style="font-size: var(--text-lg); font-weight: 700; margin-bottom: var(--space-3); color: var(--text-primary);">
                üîÑ Rollback Strategy
            </h4>
            <p style="font-size: var(--text-sm); color: var(--text-secondary); line-height: 1.6; margin-bottom: var(--space-3);">
                <strong>Server-side feature flag:</strong> Wrap alternative2 route in environment check
            </p>
            <pre style="background: rgba(0, 0, 0, 0.8); color: #00ff00; padding: var(--space-4); border-radius: var(--radius-md); overflow-x: auto; font-size: var(--text-xs);">
// In routes/home.js:
if (process.env.FEATURE_ALTERNATIVE2 === 'on') {
  router.get('/alternative2', (req, res) => {
    res.render('alternative2', { ... });
  });
}

// Quick disable: Set FEATURE_ALTERNATIVE2=off in .env</pre>
        </div>
    </div>

    <style>
        #iter12SubmitBtn:hover:not(:disabled) { opacity: 0.9; transform: translateY(-2px); }
        #iter12SubmitBtn:disabled { opacity: 0.6; cursor: not-allowed; }
        #iter12Form input:focus, #iter12Form textarea:focus { border-color: var(--color-primary-500); outline: none; box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1); }
    </style>
</section>

<script>
// ============================================
// ITERATIONS 7-12 - JavaScript Logic
// ============================================

// Wait for DOM to be fully loaded
document.addEventListener('DOMContentLoaded', function() {

// Analytics fallback
window.analytics = window.analytics || {
    track: function(event, properties) {
        console.log('üìä Analytics:', event, properties);
    }
};

// ============================================
// ITERATION 7 - Intent-first selector
// ============================================
const iter7Intents = document.querySelectorAll('.iter7-intent-btn');
const iter7FormsContainer = document.getElementById('iter7FormsContainer');

if (iter7Intents.length > 0) {
iter7Intents.forEach(btn => {
    btn.addEventListener('click', function() {
        const intent = this.dataset.intent;
        
        // Update aria-checked
        iter7Intents.forEach(b => b.setAttribute('aria-checked', 'false'));
        this.setAttribute('aria-checked', 'true');
        
        // Hide all forms
        document.querySelectorAll('.iter7-form').forEach(f => f.style.display = 'none');
        
        // Show relevant form
        if (intent === 'booking') {
            document.getElementById('iter7BookingForm').style.display = 'block';
        } else if (intent === 'quote') {
            document.getElementById('iter7QuoteForm').style.display = 'block';
        } else if (intent === 'browse') {
            document.getElementById('iter7BrowseForm').style.display = 'block';
        }
        
        // Reveal container
        if (iter7FormsContainer) {
            iter7FormsContainer.style.display = 'block';
            setTimeout(() => iter7FormsContainer.style.opacity = '1', 50);
        }
        
        window.analytics.track('iter7_intent_selected', { intent });
    });
    
    // Keyboard support
    btn.addEventListener('keydown', function(e) {
        if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            this.click();
        }
    });
});

// Submit handlers for iteration 7
document.querySelectorAll('.iter7-submit').forEach(btn => {
    btn.addEventListener('click', function() {
        const type = this.dataset.type;
        window.analytics.track('iter7_submit', { type });
        alert(`Iteration 7: ${type} form submitted (demo)`);
    });
});
}

// ============================================
// ITERATION 8 - Instant micro-summary
// ============================================
const iter8Summaries = {
    booking: {
        icon: '‚ö°',
        title: 'Foglal√°s most',
        desc: 'Azonnali foglal√°s ‚Äì add meg az adatokat, √©s lefoglaljuk az el≈ëad√≥t. Nincs v√°rakoz√°s, gyors visszaigazol√°s.',
        responseTime: 'Azonnali',
        benefit: 'Gyors lefoglal√°s'
    },
    quote: {
        icon: 'üìã',
        title: 'Aj√°nlatot k√©rek',
        desc: 'R√©szletes √°raj√°nlat 24 √≥r√°n bel√ºl ‚Äì el≈ëad√≥k k√∂z√ºl v√°laszthatsz, szem√©lyre szabott aj√°nlat √©rkezik.',
        responseTime: '24 √≥ra',
        benefit: 'Testreszabott aj√°nlat'
    },
    browse: {
        icon: 'üîç',
        title: 'B√∂ng√©szek',
        desc: 'N√©zd √°t kateg√≥ri√°k szerint az el≈ëad√≥inkat, hallgass meg mint√°kat, √©s tal√°ld meg a t√∂k√©letes el≈ëad√≥t.',
        responseTime: 'Azonnali',
        benefit: '500+ el≈ëad√≥ katal√≥gus'
    }
};

const iter8Intents = document.querySelectorAll('.iter8-intent-btn');
const iter8SummaryCard = document.getElementById('iter8SummaryCard');
const iter8ContinueBtn = document.getElementById('iter8ContinueBtn');

if (iter8Intents.length > 0) {
iter8Intents.forEach(btn => {
    btn.addEventListener('click', function() {
        const intent = this.dataset.intent;
        const summary = iter8Summaries[intent];
        
        // Update aria-checked
        iter8Intents.forEach(b => b.setAttribute('aria-checked', 'false'));
        this.setAttribute('aria-checked', 'true');
        
        // Update summary card
        const iconEl = document.getElementById('iter8SummaryIcon');
        const titleEl = document.getElementById('iter8SummaryTitle');
        const descEl = document.getElementById('iter8SummaryDesc');
        const timeEl = document.getElementById('iter8ResponseTime');
        const benefitEl = document.getElementById('iter8MainBenefit');
        
        if (iconEl) iconEl.textContent = summary.icon;
        if (titleEl) titleEl.textContent = summary.title;
        if (descEl) descEl.textContent = summary.desc;
        if (timeEl) timeEl.textContent = summary.responseTime;
        if (benefitEl) benefitEl.textContent = summary.benefit;
        
        // Show summary
        if (iter8SummaryCard) {
            iter8SummaryCard.style.display = 'block';
            setTimeout(() => iter8SummaryCard.style.opacity = '1', 50);
        }
        
        window.analytics.track('iter8_summary_shown', { intent });
    });
});
}

if (iter8ContinueBtn) {
    iter8ContinueBtn.addEventListener('click', function() {
        window.analytics.track('iter8_continue_clicked');
        alert('Iteration 8: Form would appear here (demo)');
    });
}

// ============================================
// ITERATION 9 - Social proof context
// ============================================
const iter9Testimonials = {
    budapest: "Budapesten remek el≈ëad√≥kat tal√°ltunk, 48 √≥r√°n bel√ºl megvolt a t√∂k√©letes zenekar!",
    debrecen: "Debrecenben kiv√°l√≥ DJ-t foglaltunk, a rendezv√©ny fantasztikus volt!",
    szeged: "Szegeden a legjobb zenekart foglaltuk le, mindenki elragadtatva volt!",
    default: "Kiv√°l√≥ szolg√°ltat√°s, gyors v√°laszid≈ë, profi el≈ëad√≥k ‚Äì csak aj√°nlani tudom!"
};

const iter9Intents = document.querySelectorAll('.iter9-intent-btn');
const iter9ProofContainer = document.getElementById('iter9ProofContainer');
const iter9City = document.getElementById('iter9City');
const iter9SubmitBtn = document.getElementById('iter9SubmitBtn');

if (iter9Intents.length > 0) {
iter9Intents.forEach(btn => {
    btn.addEventListener('click', function() {
        const intent = this.dataset.intent;
        
        iter9Intents.forEach(b => b.setAttribute('aria-checked', 'false'));
        this.setAttribute('aria-checked', 'true');
        
        if (iter9ProofContainer) {
            iter9ProofContainer.style.display = 'block';
            setTimeout(() => iter9ProofContainer.style.opacity = '1', 50);
        }
        
        window.analytics.track('iter9_intent_selected', { intent });
    });
});
}

// Context-aware testimonial
if (iter9City) {
    iter9City.addEventListener('input', function() {
        const city = this.value.toLowerCase();
        const testimonialEl = document.getElementById('iter9TestimonialText');
        
        let testimonialText = iter9Testimonials.default;
        for (const [key, text] of Object.entries(iter9Testimonials)) {
            if (city.includes(key)) {
                testimonialText = text;
                break;
            }
        }
        
        if (testimonialEl) {
            testimonialEl.textContent = `"${testimonialText}"`;
        }
        window.analytics.track('iter9_city_entered', { city });
    });
}

if (iter9SubmitBtn) {
    iter9SubmitBtn.addEventListener('click', function() {
        const leadData = {
            city: document.getElementById('iter9City')?.value || '',
            date: document.getElementById('iter9Date')?.value || '',
            email: document.getElementById('iter9Email')?.value || '',
            leadStatus: 'demo'
        };
        
        // TODO: POST /api/leads
        // Fallback to localStorage
        try {
            localStorage.setItem('koncert24_lead_iter9', JSON.stringify(leadData));
            const successMsg = document.getElementById('iter9SuccessMsg');
            if (successMsg) successMsg.style.display = 'block';
            this.disabled = true;
            window.analytics.track('iter9_lead_submitted', leadData);
        } catch (e) {
            console.error('localStorage error:', e);
        }
    });
}

// ============================================
// ITERATION 10 - Smart validation
// ============================================
const iter10Phone = document.getElementById('iter10Phone');
const iter10Email = document.getElementById('iter10Email');
const iter10Date = document.getElementById('iter10Date');
const iter10Form = document.getElementById('iter10Form');

// Phone validation & auto-fix
if (iter10Phone) {
    iter10Phone.addEventListener('blur', function() {
        const value = this.value.trim();
        const errorEl = document.getElementById('iter10PhoneError');
        const successEl = document.getElementById('iter10PhoneSuccess');
        const fixBtn = document.getElementById('iter10PhoneFix');
        
        if (!value) return;
        
        // Check if +36 prefix is missing
        if (!value.startsWith('+36') && !value.startsWith('36') && value.length >= 9) {
            if (errorEl) {
                errorEl.textContent = '‚ùå Hi√°nyzik az orsz√°gk√≥d (+36)';
                errorEl.style.display = 'block';
            }
            if (successEl) successEl.style.display = 'none';
            if (fixBtn) fixBtn.style.display = 'block';
            this.classList.add('error');
            this.classList.remove('success');
            
            window.analytics.track('iter10_validation_error', { field: 'phone', issue: 'missing_prefix' });
        } else if (value.startsWith('+36') && value.length >= 12) {
            if (errorEl) errorEl.style.display = 'none';
            if (successEl) successEl.style.display = 'block';
            if (fixBtn) fixBtn.style.display = 'none';
            this.classList.remove('error');
            this.classList.add('success');
            
            window.analytics.track('iter10_validation_success', { field: 'phone' });
        }
    });
}

// One-click phone fix
const iter10PhoneFix = document.getElementById('iter10PhoneFix');
if (iter10PhoneFix) {
    iter10PhoneFix.addEventListener('click', function() {
        const phoneInput = document.getElementById('iter10Phone');
        if (phoneInput) {
            let value = phoneInput.value.trim();
            
            // Remove any existing prefix
            value = value.replace(/^\+?36/, '');
            
            // Add +36
            phoneInput.value = '+36' + value;
            
            // Trigger blur to revalidate
            phoneInput.dispatchEvent(new Event('blur'));
            
            window.analytics.track('iter10_one_click_fix', { field: 'phone' });
        }
    });
}

// Email validation
if (iter10Email) {
    iter10Email.addEventListener('blur', function() {
        const value = this.value.trim();
        const errorEl = document.getElementById('iter10EmailError');
        const successEl = document.getElementById('iter10EmailSuccess');
        
        if (!value) return;
        
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        
        if (!emailRegex.test(value)) {
            if (errorEl) {
                errorEl.textContent = '‚ùå √ârv√©nytelen email form√°tum';
                errorEl.style.display = 'block';
            }
            if (successEl) successEl.style.display = 'none';
            this.classList.add('error');
            this.classList.remove('success');
            
            window.analytics.track('iter10_validation_error', { field: 'email' });
        } else {
            if (errorEl) errorEl.style.display = 'none';
            if (successEl) successEl.style.display = 'block';
            this.classList.remove('error');
            this.classList.add('success');
            
            window.analytics.track('iter10_validation_success', { field: 'email' });
        }
    });
}

// Date validation with suggestion
if (iter10Date) {
    iter10Date.addEventListener('change', function() {
        const selectedDate = new Date(this.value);
        const today = new Date();
        today.setHours(0, 0, 0, 0);
        
        const errorEl = document.getElementById('iter10DateError');
        const successEl = document.getElementById('iter10DateSuccess');
        const suggestionEl = document.getElementById('iter10DateSuggestion');
        const fixBtn = document.getElementById('iter10DateFixBtn');
        
        if (selectedDate < today) {
            if (errorEl) {
                errorEl.textContent = '‚ùå M√∫ltbeli d√°tumot v√°lasztott√°l';
                errorEl.style.display = 'block';
            }
            if (successEl) successEl.style.display = 'none';
            this.classList.add('error');
            this.classList.remove('success');
            
            // Show suggestion (7 days from now)
            const suggestedDate = new Date(today);
            suggestedDate.setDate(suggestedDate.getDate() + 7);
            if (suggestionEl) suggestionEl.style.display = 'block';
            if (fixBtn) fixBtn.dataset.suggestedDate = suggestedDate.toISOString().split('T')[0];
            
            window.analytics.track('iter10_validation_error', { field: 'date', issue: 'past_date' });
        } else {
            if (errorEl) errorEl.style.display = 'none';
            if (successEl) successEl.style.display = 'block';
            if (suggestionEl) suggestionEl.style.display = 'none';
            this.classList.remove('error');
            this.classList.add('success');
            
            window.analytics.track('iter10_validation_success', { field: 'date' });
        }
    });
}

// Date fix button
const iter10DateFixBtn = document.getElementById('iter10DateFixBtn');
if (iter10DateFixBtn) {
    iter10DateFixBtn.addEventListener('click', function() {
        const suggestedDate = this.dataset.suggestedDate;
        const dateInput = document.getElementById('iter10Date');
        if (dateInput && suggestedDate) {
            dateInput.value = suggestedDate;
            dateInput.dispatchEvent(new Event('change'));
            
            window.analytics.track('iter10_one_click_fix', { field: 'date' });
        }
    });
}

// Form submit
if (iter10Form) {
    iter10Form.addEventListener('submit', function(e) {
        e.preventDefault();
        const successEl = document.getElementById('iter10FormSuccess');
        if (successEl) successEl.style.display = 'block';
        window.analytics.track('iter10_form_submitted');
    });
}

// ============================================
// ITERATION 11 - A/B variant tracking
// ============================================
let currentVariant = 'adaptive';
const iter11EventLog = [];

// Variant UI templates
const iter11Variants = {
    adaptive: {
        title: 'üéØ Adapt√≠v Selektor',
        html: `
            <h3 style="font-size: var(--text-2xl); font-weight: 700; text-align: center; margin-bottom: var(--space-8);">
                üéØ Adapt√≠v fel√ºlet - Intelligens k√©rd√©sek
            </h3>
            <div style="background: var(--bg-surface); border-radius: var(--radius-xl); padding: var(--space-6); margin-bottom: var(--space-6);">
                <label style="display: block; font-weight: 600; margin-bottom: var(--space-3);">Mi a legfontosabb sz√°modra?</label>
                <select class="iter11-action-trigger" data-action="adaptive_select" style="width: 100%; padding: var(--space-3); border: 2px solid var(--border-base); border-radius: var(--radius-lg); font-size: var(--text-base);">
                    <option value="">V√°lassz...</option>
                    <option value="price">√År-√©rt√©k ar√°ny</option>
                    <option value="quality">Min≈ës√©g</option>
                    <option value="speed">Gyors v√°lasz</option>
                </select>
            </div>
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--space-4);">
                <button class="iter11-action-trigger" data-action="smart_search" style="padding: var(--space-5); background: linear-gradient(135deg, var(--color-primary-500), var(--color-primary-600)); color: white; border: none; border-radius: var(--radius-xl); cursor: pointer; font-weight: 600; transition: all 0.2s;">
                    üîç Intelligens keres√©s
                </button>
                <button class="iter11-action-trigger" data-action="ai_recommend" style="padding: var(--space-5); background: linear-gradient(135deg, var(--color-secondary-500), var(--color-secondary-600)); color: white; border: none; border-radius: var(--radius-xl); cursor: pointer; font-weight: 600; transition: all 0.2s;">
                    ü§ñ AI aj√°nl√°s
                </button>
            </div>
        `
    },
    simple: {
        title: 'üìù Egyszer≈± Form',
        html: `
            <h3 style="font-size: var(--text-2xl); font-weight: 700; text-align: center; margin-bottom: var(--space-8);">
                üìù Klasszikus ≈±rlap
            </h3>
            <div style="display: flex; flex-direction: column; gap: var(--space-4); margin-bottom: var(--space-6);">
                <input type="text" placeholder="El≈ëad√≥ neve" class="iter11-action-trigger" data-action="simple_input_name" style="padding: var(--space-4); border: 2px solid var(--border-base); border-radius: var(--radius-lg); font-size: var(--text-base);">
                <input type="date" class="iter11-action-trigger" data-action="simple_input_date" style="padding: var(--space-4); border: 2px solid var(--border-base); border-radius: var(--radius-lg); font-size: var(--text-base);">
                <input type="text" placeholder="V√°ros" class="iter11-action-trigger" data-action="simple_input_city" style="padding: var(--space-4); border: 2px solid var(--border-base); border-radius: var(--radius-lg); font-size: var(--text-base);">
            </div>
            <button class="iter11-action-trigger" data-action="simple_submit" style="width: 100%; padding: var(--space-5); background: var(--color-primary-500); color: white; border: none; border-radius: var(--radius-xl); font-weight: 700; font-size: var(--text-lg); cursor: pointer; transition: all 0.2s;">
                Keres√©s ind√≠t√°sa
            </button>
        `
    },
    chat: {
        title: 'üí¨ Chat UI',
        html: `
            <h3 style="font-size: var(--text-2xl); font-weight: 700; text-align: center; margin-bottom: var(--space-8);">
                üí¨ Besz√©lget≈ës fel√ºlet
            </h3>
            <div style="background: var(--bg-surface); border-radius: var(--radius-xl); padding: var(--space-6); margin-bottom: var(--space-6); min-height: 200px;">
                <div style="background: var(--color-primary-100); padding: var(--space-4); border-radius: var(--radius-lg) var(--radius-lg) var(--radius-lg) 0; margin-bottom: var(--space-4); max-width: 80%;">
                    <p style="margin: 0; color: var(--text-primary);">üëã Szia! Miben seg√≠thetek? Milyen el≈ëad√≥t keresel?</p>
                </div>
            </div>
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--space-3); margin-bottom: var(--space-4);">
                <button class="iter11-action-trigger" data-action="chat_option_wedding" style="padding: var(--space-3); background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-lg); cursor: pointer; font-size: var(--text-sm); transition: all 0.2s;">
                    üíç Esk√ºv≈ë
                </button>
                <button class="iter11-action-trigger" data-action="chat_option_party" style="padding: var(--space-3); background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-lg); cursor: pointer; font-size: var(--text-sm); transition: all 0.2s;">
                    üéâ Buli
                </button>
                <button class="iter11-action-trigger" data-action="chat_option_corporate" style="padding: var(--space-3); background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-lg); cursor: pointer; font-size: var(--text-sm); transition: all 0.2s;">
                    üè¢ C√©ges
                </button>
                <button class="iter11-action-trigger" data-action="chat_option_other" style="padding: var(--space-3); background: var(--bg-surface); border: 2px solid var(--border-base); border-radius: var(--radius-lg); cursor: pointer; font-size: var(--text-sm); transition: all 0.2s;">
                    ‚ùì Egy√©b
                </button>
            </div>
            <button class="iter11-action-trigger" data-action="chat_send" style="width: 100%; padding: var(--space-4); background: var(--color-success-500); color: white; border: none; border-radius: var(--radius-xl); font-weight: 600; cursor: pointer;">
                üí¨ K√ºld√©s
            </button>
        `
    }
};

// Render variant content
function renderIter11Variant(variant) {
    const contentContainer = document.getElementById('iter11VariantContent');
    if (!contentContainer) return;
    
    contentContainer.innerHTML = iter11Variants[variant].html;
    
    // Re-attach event listeners to new elements
    const triggers = contentContainer.querySelectorAll('.iter11-action-trigger');
    triggers.forEach(trigger => {
        const eventType = trigger.tagName === 'SELECT' ? 'change' : 
                         trigger.tagName === 'INPUT' ? 'input' : 'click';
        
        trigger.addEventListener(eventType, function() {
            const action = this.dataset.action;
            const value = this.value || this.textContent || '';
            logIter11Event('action_triggered', { 
                action, 
                variant: currentVariant,
                value: value.substring(0, 50) // Truncate long values
            });
        });
    });
}

const iter11VariantBtns = document.querySelectorAll('.iter11-variant-btn');
if (iter11VariantBtns.length > 0) {
    iter11VariantBtns.forEach(btn => {
        btn.addEventListener('click', function() {
            const variant = this.dataset.variant;
            currentVariant = variant;
            
            // Update UI
            iter11VariantBtns.forEach(b => {
                b.style.background = 'var(--bg-surface)';
                b.style.color = 'var(--text-primary)';
                b.style.border = '2px solid var(--border-base)';
                b.classList.remove('active');
            });
            this.style.background = 'var(--color-primary-500)';
            this.style.color = 'white';
            this.style.border = 'none';
            this.classList.add('active');
            
            const currentVariantEl = document.getElementById('iter11CurrentVariant');
            if (currentVariantEl) currentVariantEl.textContent = variant;
            
            // Render the new variant UI
            renderIter11Variant(variant);
            
            logIter11Event('variant_switched', { variant });
        });
    });
}

// Initialize with default variant
renderIter11Variant('adaptive');

function logIter11Event(event, data) {
    const timestamp = new Date().toLocaleTimeString();
    iter11EventLog.unshift(`[${timestamp}] ${event}: ${JSON.stringify(data)}`);
    
    // Keep only last 5
    if (iter11EventLog.length > 5) iter11EventLog.pop();
    
    // Update display
    const logEl = document.getElementById('iter11EventLog');
    if (logEl) {
        logEl.innerHTML = iter11EventLog
            .map(log => `<div style="margin-bottom: 4px;">${log}</div>`)
            .join('');
    }
    
    window.analytics.track('iter11_' + event, data);
}

// ============================================
// ITERATION 12 - Production ready
// ============================================
const iter12Form = document.getElementById('iter12Form');
const iter12SubmitBtn = document.getElementById('iter12SubmitBtn');

if (iter12Form && iter12SubmitBtn) {
    iter12Form.addEventListener('submit', async function(e) {
        e.preventDefault();
        
        const startTime = performance.now();
        
        // Collect form data with null-safe access
        const formData = {
            name: document.getElementById('iter12Name')?.value || '',
            email: document.getElementById('iter12Email')?.value || '',
            phone: document.getElementById('iter12Phone')?.value || '',
            date: document.getElementById('iter12Date')?.value || '',
            message: document.getElementById('iter12Message')?.value || '',
            timestamp: new Date().toISOString()
        };
        
        // Show loading
        const loadingEl = document.getElementById('iter12Loading');
        const successEl = document.getElementById('iter12Success');
        const errorEl = document.getElementById('iter12Error');
        const telemetryEl = document.getElementById('iter12Telemetry');
        const telemetryDataEl = document.getElementById('iter12TelemetryData');
        
        if (loadingEl) loadingEl.style.display = 'block';
        if (successEl) successEl.style.display = 'none';
        if (errorEl) errorEl.style.display = 'none';
        
        iter12SubmitBtn.disabled = true;
        
        window.analytics.track('iter12_submit_started', { formData });
        
        try {
            // TODO: POST /api/leads with CSRF token
            // Simulated API call
            const response = await fetch('/api/leads', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    // 'X-CSRF-Token': document.querySelector('[name=csrf-token]').content
                },
                body: JSON.stringify(formData)
            });
            
            const endTime = performance.now();
            const latency = Math.round(endTime - startTime);
            
            if (!response.ok) {
                throw new Error(`HTTP ${response.status}`);
            }
            
            // Success
            if (loadingEl) loadingEl.style.display = 'none';
            if (successEl) successEl.style.display = 'block';
            
            // Show telemetry
            if (telemetryEl) telemetryEl.style.display = 'block';
            if (telemetryDataEl) {
                telemetryDataEl.innerHTML = `
                    <div>‚úì Latency: ${latency}ms</div>
                    <div>‚úì Status: 200 OK</div>
                    <div>‚úì Timestamp: ${new Date().toISOString()}</div>
                `;
            }
            
            window.analytics.track('iter12_submit_success', { latency, formData });
            
            console.log('üìä Telemetry - Latency:', latency, 'ms');
            
        } catch (error) {
            const endTime = performance.now();
            const latency = Math.round(endTime - startTime);
            
            console.error('‚ùå Submit error:', error);
            console.log('üìä Telemetry - Error latency:', latency, 'ms');
            
            // Fallback to localStorage
            try {
                const existingLeads = JSON.parse(localStorage.getItem('koncert24_leads_fallback') || '[]');
                existingLeads.push(formData);
                localStorage.setItem('koncert24_leads_fallback', JSON.stringify(existingLeads));
                console.log('‚úì Saved to localStorage fallback');
            } catch (storageError) {
                console.error('localStorage fallback failed:', storageError);
            }
            
            // Show error
            if (loadingEl) loadingEl.style.display = 'none';
            if (errorEl) errorEl.style.display = 'block';
            
            // Show telemetry
            if (telemetryEl) telemetryEl.style.display = 'block';
            if (telemetryDataEl) {
                telemetryDataEl.innerHTML = `
                    <div>‚úó Latency: ${latency}ms</div>
                    <div>‚úó Error: ${error.message}</div>
                    <div>‚úì Fallback: localStorage saved</div>
                `;
            }
            
            window.analytics.track('iter12_submit_error', { 
                error: error.message, 
                latency,
                fallback: 'localStorage'
            });
            
            iter12SubmitBtn.disabled = false;
        }
    });
}

// Close DOMContentLoaded wrapper
});

console.log('‚úÖ Iterations 7-12 initialized with analytics tracking');

/*
 * ROLLBACK INSTRUCTIONS:
 * 
 * Server-side (routes/home.js):
 * -------------------------------
 * if (process.env.FEATURE_ALTERNATIVE2 !== 'on') {
 *   return res.status(404).send('Not Found');
 * }
 * 
 * Quick disable:
 * - Set FEATURE_ALTERNATIVE2=off in .env
 * - Restart server: pm2 restart koncert24
 * 
 * Client-side (if needed):
 * -------------------------
 * Add feature flag check at the top of views/alternative2.ejs:
 * Use EJS conditional to check process.env.FEATURE_ITER_7_12
 * Redirect to /alternative if feature is disabled
 */

</script>

</body>
</html>
