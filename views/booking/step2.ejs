<%
  const performer = locals.performer || {};
  const bookingData = locals.bookingData || {};
  const basePath = locals.basePath || '/';
%>

<main class="quote-wizard">
  <div class="quote-wizard__container">
    
    <!-- Progress Bar -->
    <div class="quote-wizard__progress">
      <div class="quote-wizard__progress-bar">
        <div class="quote-wizard__progress-fill progress-33"></div>
      </div>
      <div class="quote-wizard__progress-text">2. l√©p√©s / 6</div>
    </div>

      <!-- Back Button -->
      <a href="<%= basePath %>foglalas/<%= performer.slug %>?step=1" class="btn btn--secondary mb-6">
        <svg width="20" height="20" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"/>
        </svg>
        Vissza az el≈ëz≈ë l√©p√©shez
      </a>

      <!-- Performer Card (Mini) -->
      <div class="quote-wizard__performer-card">
        <% if (performer.imageUrl) { %>
          <img src="<%= performer.imageUrl %>" alt="<%= performer.name %>" class="quote-wizard__performer-image">
        <% } %>
        <div class="quote-wizard__performer-info">
          <h3 class="quote-wizard__performer-name"><%= performer.name %></h3>
          <% if (performer.performanceType) { %>
            <span class="quote-wizard__performer-type"><%= performer.performanceType %></span>
          <% } %>
        </div>
      </div>

      <!-- Step Title -->
      <h1 class="quote-wizard__title">K√©rj√ºk, add meg az el√©rhet≈ës√©ged!</h1>
      <p class="quote-wizard__subtitle">Hogy miel≈ëbb visszajelezhess√ºnk a foglal√°sunkkal.</p>

      <!-- Form -->
      <form id="bookingStep2Form" method="POST" action="<%= basePath %>foglalas/<%= performer.slug %>?step=3" class="quote-wizard__form">
        
        <!-- Contact Name -->
        <div class="form-group">
          <label for="contactName" class="form-label">
            Teljes n√©v <span class="required">*</span>
          </label>
          <input 
            type="text" 
            id="contactName" 
            name="contactName" 
            class="form-input"
            placeholder="Vezet√©kn√©v Keresztn√©v"
            value="<%= bookingData.contactName || '' %>"
            required>
        </div>

        <!-- Contact Email -->
        <div class="form-group">
          <label for="contactEmail" class="form-label">
            E-mail c√≠m <span class="required">*</span>
          </label>
          <input 
            type="email" 
            id="contactEmail" 
            name="contactEmail" 
            class="form-input"
            placeholder="pelda@email.hu"
            value="<%= bookingData.contactEmail || '' %>"
            required>
        </div>

        <!-- Contact Phone (Optional) -->
        <div class="form-group">
          <label for="contactPhone" class="form-label">
            Telefonsz√°m 
            <span class="optional">(opcion√°lis, de aj√°nlott)</span>
            <span class="tooltip" data-tooltip="Telefonon gyorsabban tudunk pontos√≠tani.">
              <svg width="16" height="16" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>
              </svg>
            </span>
          </label>
          <input 
            type="tel" 
            id="contactPhone" 
            name="contactPhone" 
            class="form-input"
            placeholder="+36 30 123 4567"
            value="<%= bookingData.contactPhone || '' %>">
          <small class="form-hint">üìû Telefonon gyorsabban tudunk pontos√≠tani.</small>
        </div>

        <!-- Submit Button -->
        <div class="form-actions form-actions--split">
          <a href="<%= basePath %>foglalas/<%= performer.slug %>?step=1" class="btn btn--secondary btn--large">
            <svg width="20" height="20" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"/>
            </svg>
            Vissza az el≈ëz≈ë l√©p√©shez
          </a>
          <button type="submit" class="btn btn--primary btn--large">
            Tov√°bb a szerz≈ëd√©s adataihoz
            <svg width="20" height="20" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd"/>
            </svg>
          </button>
        </div>

      </form>

    </div>
  </main>

  <!-- Custom CSS for this page -->
  <link rel="stylesheet" href="<%= basePath %>css/pages/quote-wizard.css">
  
  <!-- Custom JS for this page -->
  <script src="<%= basePath %>js/pages/quote-wizard.js"></script>
