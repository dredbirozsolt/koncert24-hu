/**
 * Button Component - Design System
 * koncert24.hu Unified Design System
 * 
 * Usage:
 * - Base: <button class="btn">
 * - Variants: .btn-primary, .btn-secondary, .btn-success, .btn-warning
 * - Sizes: .btn-sm, .btn-md (default), .btn-lg
 * - Styles: .btn-rounded, .btn-square, .btn-pill
 * - Types: .btn-outline, .btn-ghost, .btn-gradient
 * - Width: .btn-full-width
 * 
 * Both admin and public use these styles!
 */

/* ==========================================
   BASE BUTTON
   ========================================== */

.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  font-family: var(--font-sans);
  font-weight: var(--font-weight-medium);
  line-height: var(--leading-tight);
  text-align: center;
  text-decoration: none !important;
  white-space: nowrap;
  border: var(--border-width-thick) solid transparent;
  cursor: pointer;
  transition: var(--transition-base);
  user-select: none;
  vertical-align: middle;
  box-sizing: border-box;
  
  /* Default size (medium) - ROUNDED SOFT STYLE */
  padding: var(--space-3) var(--space-6);
  font-size: var(--text-sm);
  border-radius: var(--radius-button);
}

.btn:hover,
.btn:focus,
.btn:active {
  text-decoration: none !important;
}

.btn:focus-visible {
  outline: var(--border-width-thick) solid var(--color-focus);
  outline-offset: var(--border-width-thick);
}

.btn:disabled,
.btn[disabled] {
  opacity: 0.5;
  cursor: not-allowed;
  pointer-events: none;
}

/* ==========================================
   BUTTON SIZES
   ========================================== */

/* Supporting both naming conventions for sizes */
.btn-xs,
.btn--xs {
  padding: 0.375rem 0.75rem;
  font-size: 0.8125rem;
  gap: var(--space-1);
  border-radius: var(--space-4);
}

.btn-sm,
.btn--sm {
  padding: var(--space-2) var(--space-4);
  font-size: var(--text-sm);
  gap: var(--space-1);
  border-radius: var(--radius-button);
}

.btn-md,
.btn--md {
  padding: var(--space-2) var(--space-6);
  font-size: var(--text-sm);
  border-radius: var(--radius-button);
}

.btn-lg,
.btn--lg {
  padding: var(--space-3) var(--space-8);
  font-size: var(--text-lg);
  font-weight: var(--font-weight-bold);
  border-radius: var(--radius-button);
}

/* ==========================================
   BUTTON SHAPES
   ========================================== */

.btn-square {
  border-radius: var(--radius-base);
}

.btn-rounded {
  border-radius: var(--radius-xl);
}

.btn-pill {
  border-radius: var(--radius-full);
}

/* ==========================================
   SOLID BUTTON VARIANTS
   Note: Supporting both single-dash (backward compatibility) and BEM naming (--modifier)
   ========================================== */

.btn-primary,
.btn--primary {
  background: linear-gradient(135deg, var(--color-primary-600) 0%, var(--color-primary-700) 100%);
  border-color: var(--color-primary-700);
  color: white;
}

.btn-primary:hover:not(:disabled),
.btn--primary:hover:not(:disabled) {
  transform: translateY(calc(-1 * var(--space-0-5)));
  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
  color: white;
}

.btn-primary:active:not(:disabled),
.btn--primary:active:not(:disabled) {
  transform: translateY(0);
}

.btn-secondary,
.btn--secondary {
  background: var(--color-gray-600);
  color: white;
}

.btn-secondary:hover:not(:disabled),
.btn--secondary:hover:not(:disabled) {
  background: var(--color-gray-700);
  color: white;
  transform: translateY(calc(-1 * var(--space-0-5)));
  box-shadow: 0 4px 12px rgba(107, 114, 128, 0.4);
}

.btn-success,
.btn--success {
  background: var(--color-success-600);
  color: white;
}

.btn-success:hover:not(:disabled),
.btn--success:hover:not(:disabled) {
  background: var(--color-success-700);
  transform: translateY(calc(-1 * var(--space-0-5)));
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
}

.btn-warning,
.btn--warning {
  background: var(--color-warning-500);
  color: var(--color-gray-900);
}

.btn-warning:hover:not(:disabled),
.btn--warning:hover:not(:disabled) {
  background: var(--color-warning-600);
  transform: translateY(calc(-1 * var(--space-0-5)));
  box-shadow: 0 4px 12px rgba(245, 158, 11, 0.4);
}

.btn-danger,
.btn--danger {
  background: var(--color-error-600);
  color: white;
}

.btn-danger:hover:not(:disabled),
.btn--danger:hover:not(:disabled) {
  background: var(--color-error-700);
  transform: translateY(calc(-1 * var(--space-0-5)));
  box-shadow: 0 4px 12px rgba(239, 68, 68, 0.4);
}

.btn-info,
.btn--info {
  background: var(--color-info-600);
  color: white;
}

.btn-info:hover:not(:disabled),
.btn--info:hover:not(:disabled) {
  background: var(--color-info-700);
  transform: translateY(calc(-1 * var(--space-0-5)));
  box-shadow: 0 4px 12px rgba(37, 99, 235, 0.4);
}

/* ==========================================
   OUTLINE BUTTON VARIANTS
   ========================================== */

.btn-outline,
.btn--outline {
  background: transparent;
  border: var(--border-width-thick) solid var(--color-primary-600);
  color: var(--color-primary-600);
}

.btn-outline:hover:not(:disabled),
.btn--outline:hover:not(:disabled) {
  background: var(--color-primary-600);
  color: white;
}

.btn-outline-secondary {
  background: transparent;
  border: var(--border-width-thick) solid var(--color-gray-600);
  color: var(--color-gray-600);
}

.btn-outline-secondary:hover:not(:disabled) {
  background: var(--color-gray-600);
  color: white;
}

.btn-outline-error {
  background: transparent;
  border: var(--border-width-thick) solid var(--color-error-600);
  color: var(--color-error-600);
}

.btn-outline-error:hover:not(:disabled) {
  background: var(--color-error-600);
  color: white;
}

.btn-outline-success {
  background: transparent;
  color: var(--color-gray-600);
  border: var(--border-width-thick) solid var(--color-gray-600);
}

.btn-outline-secondary:hover:not(:disabled) {
  background: var(--color-gray-600);
  color: white;
}

.btn-outline-success {
  background: transparent;
  color: var(--color-success-600);
  border: var(--border-width-thick) solid var(--color-success-600);
}

.btn-outline-success:hover:not(:disabled) {
  background: var(--color-success-600);
  color: white;
}

.btn-outline-warning {
  background: transparent;
  color: var(--color-warning-600);
  border: var(--border-width-thick) solid var(--color-warning-600);
}

.btn-outline-warning:hover:not(:disabled) {
  background: var(--color-warning-600);
  color: var(--color-gray-900);
}

/* White outline - for use on colored backgrounds (e.g., hero sections) */
.btn--outline-white {
  background: transparent;
  border: var(--border-width-thick) solid rgba(255, 255, 255, 0.8);
  color: #ffffff;
}

.btn--outline-white:hover:not(:disabled) {
  background: rgba(255, 255, 255, 0.15);
  border-color: #ffffff;
  color: #ffffff;
}

.btn-outline-error,
.btn-outline-error {
  background: transparent;
  color: var(--color-error-600);
  border: var(--border-width-thick) solid var(--color-error-600);
}

.btn-outline-error:hover:not(:disabled),
.btn-outline-error:hover:not(:disabled) {
  background: var(--color-error-600);
  color: white;
}

/* White variants (for dark backgrounds / overlays) */
.btn-white {
  background: var(--bg-surface);
  color: var(--color-primary-600);
  border-color: var(--bg-surface);
}

.btn-white:hover:not(:disabled) {
  background: var(--bg-surface-hover);
  border-color: var(--bg-surface-hover);
}

.btn-outline-white {
  background: transparent;
  color: var(--text-inverse);
  border: var(--border-width-thick) solid var(--text-inverse);
}

.btn-outline-white:hover:not(:disabled) {
  background: var(--bg-surface);
  color: var(--color-primary-600);
}

/* ==========================================
   GHOST BUTTONS (No border, transparent)
   ========================================== */

.btn-ghost {
  background: transparent;
  color: var(--text-secondary);
  border: none;
  padding: var(--space-3) var(--space-4);
}

.btn-ghost:hover:not(:disabled) {
  background: var(--color-hover);
  color: var(--text-primary);
}

.btn-ghost-primary {
  background: transparent;
  color: var(--color-primary-600);
  border: none;
}

.btn-ghost-primary:hover:not(:disabled) {
  background: var(--color-primary-50);
  color: var(--color-primary-700);
}

/* ==========================================
   GRADIENT BUTTONS (Marketing/Public)
   ========================================== */

.btn-gradient {
  background: linear-gradient(135deg, var(--color-primary-600) 0%, var(--color-primary-400) 100%);
  color: white;
  border: none;
}

.btn-gradient:hover:not(:disabled) {
  background: linear-gradient(135deg, var(--color-primary-700) 0%, var(--color-primary-500) 100%);
  transform: translateY(calc(-1 * var(--space-0-5)));
  box-shadow: 0 8px 16px rgba(37, 99, 235, 0.4);
}

.btn-gradient-purple {
  background: linear-gradient(135deg, var(--color-primary-600) 0%, var(--color-primary-700) 100%);
  color: white;
  border: none;
}

.btn-gradient-purple:hover:not(:disabled) {
  transform: translateY(calc(-1 * var(--space-0-5)));
  box-shadow: 0 8px 16px rgba(102, 126, 234, 0.4);
}

/* ==========================================
   ELEVATED BUTTONS (With shadow effect)
   ========================================== */

.btn-elevated {
  box-shadow: var(--shadow-sm);
}

.btn-elevated:hover:not(:disabled) {
  transform: translateY(calc(-1 * var(--space-0-5)));
  box-shadow: var(--shadow-lg);
}

.btn-elevated:active:not(:disabled) {
  transform: translateY(0);
  box-shadow: var(--shadow-sm);
}

/* ==========================================
   BUTTON WIDTH
   ========================================== */

.btn-full-width,
.btn-block {
  width: 100%;
  display: flex;
  justify-content: center;
}

/* ==========================================
   BUTTON GROUPS
   ========================================== */

.btn-group {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
}

.btn-group .btn {
  margin: 0;
}

/* Equal width buttons in group - each button takes equal space */
.btn-group--equal {
  display: flex;
  width: 100%;
}

.btn-group--equal .btn {
  flex: 1 1 0%;
}

/* Attached buttons */
.btn-group-attached {
  display: inline-flex;
  gap: 0;
}

.btn-group-attached .btn {
  border-radius: 0;
  margin: 0;
}

.btn-group-attached .btn:first-child {
  border-top-left-radius: var(--radius-lg);
  border-bottom-left-radius: var(--radius-lg);
}

.btn-group-attached .btn:last-child {
  border-top-right-radius: var(--radius-lg);
  border-bottom-right-radius: var(--radius-lg);
}

.btn-group-attached .btn:not(:last-child) {
  border-right: none;
}

/* ==========================================
   BUTTON WITH ICONS
   ========================================== */

.btn-icon-only {
  padding: var(--space-3);
  aspect-ratio: 1;
}

.btn-icon-only.btn-sm {
  padding: var(--space-2);
}

.btn-icon-only.btn-lg {
  padding: var(--space-4);
}

/* ==========================================
   LOADING STATE
   ========================================== */

.btn-loading {
  position: relative;
  color: transparent !important;
  pointer-events: none;
}

.btn-loading::after {
  content: "";
  position: absolute;
  width: 1em;
  height: 1em;
  top: 50%;
  left: 50%;
  margin-left: -0.5em;
  margin-top: -0.5em;
  border: var(--border-width-thick) solid currentColor;
  border-radius: 50%;
  border-right-color: transparent;
  animation: btn-spin 0.6s linear infinite;
  color: white;
}

@keyframes btn-spin {
  to {
    transform: rotate(360deg);
  }
}

/* ==========================================
   RESPONSIVE
   ========================================== */

@media (max-width: 640px) {
  .btn-lg {
    padding: var(--space-3) var(--space-6);
    font-size: var(--text-base);
  }
  
  .btn-full-width-mobile {
    width: 100%;
    display: flex;
    justify-content: center;
  }
}

/* ==========================================
   LEGACY ALIASES (for backward compatibility)
   TODO: Remove after migration
   ========================================== */

.btn-small {
  padding: var(--space-2) var(--space-4);
  font-size: var(--text-sm);
}

.btn-large {
  padding: var(--space-4) var(--space-8);
  font-size: var(--text-lg);
}

/* ==========================================
   DARK MODE
   ========================================== */

[data-theme="dark"] .btn-error {
  background: rgba(239, 68, 68, 0.15);
  color: var(--color-error-400);
  border: 1px solid rgba(239, 68, 68, 0.3);
}

[data-theme="dark"] .btn-error:hover:not(:disabled) {
  background: rgba(239, 68, 68, 0.25);
  border-color: rgba(239, 68, 68, 0.4);
}
